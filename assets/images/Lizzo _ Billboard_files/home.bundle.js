(window.webpackJsonp=window.webpackJsonp||[]).push([[6],Array(28).concat([function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:"<div class=\"ad_desktop dfp-ad dfp-ad-<%- slot.slotName %> <%- typeof extraClass !== 'undefined' ? extraClass : '' %>\"\n    <% if(typeof slot.targetingParameters !== \"undefined\" && slot.targetingParameters) { %>data-position='<%- slot.targetingParameters.pos %>'<% } %>\n    data-sizes='<%= JSON.stringify(slot.defaultSizes) %>'\n    data-size-mapping='<%= JSON.stringify(slot.sizeMapping) %>'\n    data-targeting='<%= JSON.stringify(slot.targetingParameters) %>'\n    data-ad-unit='<%- slot.adUnit %>'\n    data-tracklabel=\"Ad Click\"\n    <% if(typeof paywallDefer !== \"undefined\" && paywallDefer) { %>\n        data-paywall-defer='true'\n    <% } %>\n    <% if ('undefined' !== typeof prepend) { %> data-prepend=\"<%= prepend %>\"<% } %>>\n</div>\n",filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="ad_desktop dfp-ad dfp-ad-',(__stack.lineno=1,slot.slotName)," ",(__stack.lineno=1,"undefined"!=typeof extraClass?extraClass:""),'"\n    '),__stack.lineno=2,void 0!==slot.targetingParameters&&slot.targetingParameters&&(buf.push("data-position='",(__stack.lineno=2,slot.targetingParameters.pos),"'"),__stack.lineno=2),buf.push("\n    data-sizes='",escape((__stack.lineno=3,JSON.stringify(slot.defaultSizes))),"'\n    data-size-mapping='",escape((__stack.lineno=4,JSON.stringify(slot.sizeMapping))),"'\n    data-targeting='",escape((__stack.lineno=5,JSON.stringify(slot.targetingParameters))),"'\n    data-ad-unit='",(__stack.lineno=6,slot.adUnit),'\'\n    data-tracklabel="Ad Click"\n    '),__stack.lineno=8,"undefined"!=typeof paywallDefer&&paywallDefer&&(buf.push("\n        data-paywall-defer='true'\n    "),__stack.lineno=10),buf.push("\n    "),__stack.lineno=11,"undefined"!=typeof prepend&&(buf.push(' data-prepend="',escape((__stack.lineno=11,prepend)),'"'),__stack.lineno=11),buf.push(">\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},,,,,,,function(e,t,a){var n=a(3),i=a(4),s=a(7),r=a(2),l=a(50).getContentInfo,o=new s.Router,c=i.once((function(){s.history.start({pushState:!0})})),d=document.location.search||"";var p=function(e,t){var a=e.lastIndexOf("|");return a>-1&&(t=" "+e.substr(a)),function(e){void 0!==e&&e.length&&(-1===e.indexOf(t)?document.title=e+t:document.title=e)}}(document.title,"");function _(e,t,a,i,s){a=n(a),c(),r.trigger("urlChange:pre",t,a,i),p(l(a).title),o.navigate(e+("down"==i?"":d),s),r.trigger("urlChange:post",t,a,i)}r.on("urlChange:pre",(function(e,t){n(".url-breadcrumb").removeClass("is-active"),t.addClass("is-active")})),r.on("contentLoaded",(function(){n(".url-breadcrumb.is-unprocessed").each((function(){var e=n(this),t=e.prevAll(".url-breadcrumb").first();e.removeClass("is-unprocessed").waypoint({handler:function(a){var n=e;if("up"===a){if(0===t.length)return;n=t}n.hasClass("is-active")||_(n.data("url-breadcrumb"),n.data("content-type")||"unknown",n,a)},offset:"30%"})}))})),e.exports={changeUrl:_}},,,,,,,,function(e,t,a){var n=a(3),i=a(4),s=a(7),r=(a(32),a(80)),l=a(107),o=a(13),c=a(16).default,d=a(16).setupHeaderBidding,p=0;e.exports={initialize:function(){this.settings=new s.Model,this.ready=i.once(this.ready),this.model||(this.$video=this.$el.find("video"),this.model=new s.Model(this.$video.data())),this.initSettings(),this.libraryLoaded=r.injectJs(this.model.get("account"),this.model.get("player")),this.setupHeaderBidding()},initSettings:function(){var e=this.model.get("applicationId")?this.model.get("applicationId"):"",t=l.defaults;l[e]&&(t=n.extend(!0,{},t,l[e])),this.settings.set(t)},initPlayer:function(){this.$video.hasClass("vjs-tech")?this.player=window.videojs(this.$video[0]):this.player=window.bc(this.$video[0]);var e=this.model.get("applicationId")?this.model.get("applicationId"):"";return this.playerController=new c(this.player,e,this.$el.find(".video-js")[0]),r.registerPlayerView(this.$video.attr("id"),this),this},getPlayer:function(){return void 0!==this.player?this.player:null},play:function(e){var t=this;return new Promise((function(a){t.ready().then((function(){t._play(e).then((function(){return a()}))}))}))},_play:function(e){this.model.get("videoId");return this.playStarted=this.playerController.play(e),this.playStarted},pause:function(){var e=this;return this.ready().then((function(){e.playStarted?e.playStarted.then((function(){return e._pause()})):e._pause()}))},_pause:function(){this.playerController.pause()},onRender:function(){return this.$video=this.$el.find("video"),this.$video.attr("id","brightcoveVideo"+p),p++,this.ready(),this},ready:function(){var e=this;return this.libraryLoaded.then((function(){return e.initPlayer()}))},setupHeaderBidding:function(){d("brightcoveVideo"+p,this.model.get("applicationId"))},dispose:function(){if(this.player){o.removeFromVideosPlaying(this.$video.attr("id"));try{this.player.dispose()}catch(e){console.log(e)}}return this},isVideoPlaying:function(){return o.videoPlaying()}}},,,,,,,,function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<div class="capsule__body">\n    <div class="capsule--swipe__body-container">\n        <%  var sizes = "(max-width: 1023px) 240px";\n            _.each(items.slice(0,10), function(item) {\n                var imageClass = "capsule__item-image capsule__item-image--" + item.media.orientation + " capsule--swipe__item-image"; %>\n                <article class="capsule__item capsule--swipe__item">\n                    <a href="<%= item.url %>">\n                        <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %>">\n                            <%- include ./vendor/pgm/fe/js/modules/ejs/embeds/image_media %>\n                        </figure>\n                        <h3 class="capsule__item-title capsule--swipe__item-title"><%= item.title %></h3>\n                    </a>\n                </article>\n        <%  }); %>\n        <% if (linkUrl && linkText) { %>\n            <article class="capsule__item capsule--swipe__item capsule--swipe__item--more"><a href="<%= linkUrl %>" class="capsule__more capsule--swipe__more"><%= linkText %></a></article>\n        <% } %>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<div class="capsule__body">\n    <div class="capsule--swipe__body-container">\n        '),__stack.lineno=4;_.each(items.slice(0,10),(function(e){var t="capsule__item-image capsule__item-image--"+e.media.orientation+" capsule--swipe__item-image";buf.push('\n                <article class="capsule__item capsule--swipe__item">\n                    <a href="',escape((__stack.lineno=8,e.url)),'">\n                        <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=9,e.media.orientation))," capsule__item-figure--",escape((__stack.lineno=9,type)),'">\n                            '+function(){var a=[];a.push(""),__stack.lineno=1;var n="";return _.forEach(e.media.srcset,(function(e){n+=e.url+" "+e.size.split("x")[0]+"w, "})),n=n.substr(0,n.length-2),a.push('\n\n<img class="',escape((__stack.lineno=8,t)),'" src="',escape((__stack.lineno=8,e.media.src)),'" srcset="',escape((__stack.lineno=8,n)),'" sizes="',escape((__stack.lineno=8,"(max-width: 1023px) 240px")),'" />\n'),a.join("")}()+'\n                        </figure>\n                        <h3 class="capsule__item-title capsule--swipe__item-title">',escape((__stack.lineno=12,e.title)),"</h3>\n                    </a>\n                </article>\n        "),__stack.lineno=15})),buf.push("\n        "),__stack.lineno=16,linkUrl&&linkText&&(buf.push('\n            <article class="capsule__item capsule--swipe__item capsule--swipe__item--more"><a href="',escape((__stack.lineno=17,linkUrl)),'" class="capsule__more capsule--swipe__more">',escape((__stack.lineno=17,linkText)),"</a></article>\n        "),__stack.lineno=18),buf.push("\n    </div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<h5 class="capsule__deck"><%= deck %></h5>\n<div class="capsule__body capsule--chart__body">\n    <ol class="capsule--swipe__body-container">\n        <% _.each(items.slice(0,10), function(item) { %>\n            <li class="capsule__item capsule--chart__item capsule--swipe__item">\n                <h3 class="capsule__item-title capsule--chart__item-title"><%= item.title %></h3>\n                <div class="capsule--chart__item-data"><%= item.data %></div>\n            </li>\n        <% }); %>\n        <% if (linkUrl && linkText) { %>\n            <li class="capsule__item capsule--swipe__item capsule--swipe__item--more"><a href="<%= linkUrl %>" class="capsule__more capsule--swipe__more"><%= linkText %></a></li>\n        <% } %>\n    </ol>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<h5 class="capsule__deck">',escape((__stack.lineno=2,deck)),'</h5>\n<div class="capsule__body capsule--chart__body">\n    <ol class="capsule--swipe__body-container">\n        '),__stack.lineno=5,_.each(items.slice(0,10),(function(e){buf.push('\n            <li class="capsule__item capsule--chart__item capsule--swipe__item">\n                <h3 class="capsule__item-title capsule--chart__item-title">',escape((__stack.lineno=7,e.title)),'</h3>\n                <div class="capsule--chart__item-data">',escape((__stack.lineno=8,e.data)),"</div>\n            </li>\n        "),__stack.lineno=10})),buf.push("\n        "),__stack.lineno=11,linkUrl&&linkText&&(buf.push('\n            <li class="capsule__item capsule--swipe__item capsule--swipe__item--more"><a href="',escape((__stack.lineno=12,linkUrl)),'" class="capsule__more capsule--swipe__more">',escape((__stack.lineno=12,linkText)),"</a></li>\n        "),__stack.lineno=13),buf.push("\n    </ol>\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title  capsule--horizontal__title"><%= title %></h4>\n<div class="capsule__body  capsule--horizontal__body">\n    <div class="capsule--swipe__body-container">\n        <%  var sizes = "(max-width: 1023px) 240px";\n            _.each(items.slice(0,10), function(item) {\n                var imageClass = "capsule__item-image capsule__item-image--" + item.media.orientation + " capsule--swipe__item-image"; %>\n                <article class="capsule__item capsule--horizontal__item capsule--swipe__item">\n                    <a href="<%= item.url %>">\n                        <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %>">\n                            <img class="capsule__item-image capsule__item-image--<%= item.media.orientation %> capsule--swipe__item-image" src="<%= item.media.src %>" />\n                        </figure>\n                        <h3 class="capsule__item-title capsule--swipe__item-title capsule--horizontal__item-title"><%= item.title %></h3>\n                    </a>\n                </article>\n        <%  }); %>\n        <% if (linkUrl && linkText) { %>\n            <article class="capsule__item capsule--swipe__item capsule__item--more"><a href="<%= linkUrl %>" class="capsule--horizontal__cta"><%= linkText %></a></article>\n        <% } %>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){buf.push('<h4 class="capsule__title  capsule--horizontal__title">',escape((__stack.lineno=1,title)),'</h4>\n<div class="capsule__body  capsule--horizontal__body">\n    <div class="capsule--swipe__body-container">\n        '),__stack.lineno=4;_.each(items.slice(0,10),(function(e){e.media.orientation;buf.push('\n                <article class="capsule__item capsule--horizontal__item capsule--swipe__item">\n                    <a href="',escape((__stack.lineno=8,e.url)),'">\n                        <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=9,e.media.orientation))," capsule__item-figure--",escape((__stack.lineno=9,type)),'">\n                            <img class="capsule__item-image capsule__item-image--',escape((__stack.lineno=10,e.media.orientation)),' capsule--swipe__item-image" src="',escape((__stack.lineno=10,e.media.src)),'" />\n                        </figure>\n                        <h3 class="capsule__item-title capsule--swipe__item-title capsule--horizontal__item-title">',escape((__stack.lineno=12,e.title)),"</h3>\n                    </a>\n                </article>\n        "),__stack.lineno=15})),buf.push("\n        "),__stack.lineno=16,linkUrl&&linkText&&(buf.push('\n            <article class="capsule__item capsule--swipe__item capsule__item--more"><a href="',escape((__stack.lineno=17,linkUrl)),'" class="capsule--horizontal__cta">',escape((__stack.lineno=17,linkText)),"</a></article>\n        "),__stack.lineno=18),buf.push("\n    </div>\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n=a(105),i=a(285),s=a(286),r=a(287),l=a(289),o=a(292),c=a(295),d=a(296),p=a(298),_=a(299),u=a(300);n.embeds.setBaseModel(i),n.types.register("artist",s),n.types.register("song",l),n.types.register("chartSearch",o),n.types.register("homeVideoSlider",r),n.types.register("tableChart",p),n.types.register("deepDiveArticle",_),n.types.register("insightReportArticle",u),n.embeds.register("video",c.Model,c.View),n.embeds.register("image",d.Model,d.View),e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n=a(2),i=a(249),s=a(250),r=a(251),l=a(253),o=a(254),c=a(255),d=a(256),p=a(43),_=a(260),u=a(262),h=a(263),m=a(264),f=a(267),g=a(268),v=a(269),b=a(271),k=a(273),y=a(114),w=a(275),x=a(277),P=a(116),S=a(117);r.register("standard",{}),r.register("article",d),r.register("brightcoveVideo",p),r.register("emailSubscribe",_),r.register("longform",u),r.register("stickySidebar",h),r.register("topicIndex",m),r.register("topicSplash",f),r.register("videoPage",g),r.register("expandableImage",v),i.register("promo",b.Model,b.View),i.register("gallery",k.Model,k.View),i.register("image",y.Model,y.View),i.register("readmore",w.Model,w.View),i.register("hybridPlayer",x.Model,x.View),i.register("video",P.Model,P.View),n.on("contentReady",(function(){n.trigger("contentLoaded",r.attach().add(i.attach()))})),n.on("asyncContentReady",(function(){var e=Array.prototype.slice.apply(arguments);n.trigger.apply(n,["contentReady"].concat(e)),n.trigger.apply(n,["asyncContentLoaded"].concat(e)),c()})),o.init(),s.init(),n.on("contentLoaded",l),S.expose(),e.exports={types:r,embeds:i}},,,function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<h5 class="capsule__deck"><%= deck %></h5>\n<div class="capsule__body capsule--chart__body">\n    <ol>\n    <% _.each(items, function(item, index) { %>\n        <li class="capsule__item capsule__item--<%= index %> capsule--chart__item">\n            <h3 class="capsule__item-title capsule--chart__item-title"><%= item.title %></h3>\n            <div class="capsule--chart__item-data"><%= item.data %></div>\n        </li>\n    <% }); %>\n    </ol>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<h5 class="capsule__deck">',escape((__stack.lineno=2,deck)),'</h5>\n<div class="capsule__body capsule--chart__body">\n    <ol>\n    '),__stack.lineno=5,_.each(items,(function(e,t){buf.push('\n        <li class="capsule__item capsule__item--',escape((__stack.lineno=6,t)),' capsule--chart__item">\n            <h3 class="capsule__item-title capsule--chart__item-title">',escape((__stack.lineno=7,e.title)),'</h3>\n            <div class="capsule--chart__item-data">',escape((__stack.lineno=8,e.data)),"</div>\n        </li>\n    "),__stack.lineno=10})),buf.push("\n    </ol>\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<div class="capsule__body">\n    <%  var sizes = \'\';\n        _.each(currentPageItems, function(item, index) {\n            var imageClass = "capsule__item-image capsule__item-image--" + item.media.orientation;%>\n            <article class="capsule__item capsule__item--<%= index %> capsule--list__item">\n                <a href="<%= item.url %>">\n                    <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %> capsule--list__item-figure">\n                        <% if (index === 0) {\n                            sizes = "(min-width: 1060px) 300px, (min-width: 1024px) 675px";\n                        } else {\n                            sizes = "80px";\n                        }\n                        %>\n                        <%- include ./vendor/pgm/fe/js/modules/ejs/embeds/image_media %>\n                    </figure>\n                    <h3 class="capsule__item-title capsule--list__item-title"><%= item.title %></h3>\n                </a>\n            </article>\n    <%  }); %>\n    <% if (totalPages > 1) { %>\n    <nav class="capsule__nav">\n        <span class="capsule__current-page">\n            <%= currentPage %>/<%= totalPages %>\n        </span>\n        <span class="capsule__nav-button capsule__nav-button--prev"></span>\n        <span class="capsule__nav-button capsule__nav-button--next"></span>\n    </nav>\n    <% } %>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<div class="capsule__body">\n    '),__stack.lineno=3;var e="";_.each(currentPageItems,(function(t,a){var n="capsule__item-image capsule__item-image--"+t.media.orientation;buf.push('\n            <article class="capsule__item capsule__item--',escape((__stack.lineno=6,a)),' capsule--list__item">\n                <a href="',escape((__stack.lineno=7,t.url)),'">\n                    <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=8,t.media.orientation))," capsule__item-figure--",escape((__stack.lineno=8,type)),' capsule--list__item-figure">\n                        '),__stack.lineno=9,e=0===a?"(min-width: 1060px) 300px, (min-width: 1024px) 675px":"80px",buf.push("\n                        "+function(){var a=[];a.push(""),__stack.lineno=1;var i="";return _.forEach(t.media.srcset,(function(e){i+=e.url+" "+e.size.split("x")[0]+"w, "})),i=i.substr(0,i.length-2),a.push('\n\n<img class="',escape((__stack.lineno=8,n)),'" src="',escape((__stack.lineno=8,t.media.src)),'" srcset="',escape((__stack.lineno=8,i)),'" sizes="',escape((__stack.lineno=8,e)),'" />\n'),a.join("")}()+'\n                    </figure>\n                    <h3 class="capsule__item-title capsule--list__item-title">',escape((__stack.lineno=17,t.title)),"</h3>\n                </a>\n            </article>\n    "),__stack.lineno=20})),buf.push("\n    "),__stack.lineno=21,totalPages>1&&(buf.push('\n    <nav class="capsule__nav">\n        <span class="capsule__current-page">\n            ',escape((__stack.lineno=24,currentPage)),"/",escape((__stack.lineno=24,totalPages)),'\n        </span>\n        <span class="capsule__nav-button capsule__nav-button--prev"></span>\n        <span class="capsule__nav-button capsule__nav-button--next"></span>\n    </nav>\n    '),__stack.lineno=29),buf.push("\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<div class="capsule__body capsule--media__body">\n    <% var sizes = "(min-width: 1060px) 300px, (min-width: 1024px) 675px";\n       _.each(currentPageItems, function(item) {\n           var imageClass = "capsule__item-image capsule__item-image--" + item.media.orientation;%>\n           <article class="capsule__item">\n                <a href="<%= item.url %>">\n                    <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %>">\n                        <%- include ./vendor/pgm/fe/js/modules/ejs/embeds/image_media %>\n                    </figure>\n                    <h3 class="capsule__item-title capsule--media__item-title"><%= item.title %></h3>\n                </a>\n           </article>\n    <% }); %>\n    <% if (totalPages > 1) { %>\n    <nav class="capsule__nav">\n        <span class="capsule__current-page">\n            <%= currentPage %>/<%= totalPages %>\n        </span>\n        <span class="capsule__nav-button capsule__nav-button--prev"></span>\n        <span class="capsule__nav-button capsule__nav-button--next"></span>\n    </nav>\n    <% } %>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<div class="capsule__body capsule--media__body">\n    '),__stack.lineno=3;_.each(currentPageItems,(function(e){var t="capsule__item-image capsule__item-image--"+e.media.orientation;buf.push('\n           <article class="capsule__item">\n                <a href="',escape((__stack.lineno=7,e.url)),'">\n                    <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=8,e.media.orientation))," capsule__item-figure--",escape((__stack.lineno=8,type)),'">\n                        '+function(){var a=[];a.push(""),__stack.lineno=1;var n="";return _.forEach(e.media.srcset,(function(e){n+=e.url+" "+e.size.split("x")[0]+"w, "})),n=n.substr(0,n.length-2),a.push('\n\n<img class="',escape((__stack.lineno=8,t)),'" src="',escape((__stack.lineno=8,e.media.src)),'" srcset="',escape((__stack.lineno=8,n)),'" sizes="',escape((__stack.lineno=8,"(min-width: 1060px) 300px, (min-width: 1024px) 675px")),'" />\n'),a.join("")}()+'\n                    </figure>\n                    <h3 class="capsule__item-title capsule--media__item-title">',escape((__stack.lineno=11,e.title)),"</h3>\n                </a>\n           </article>\n    "),__stack.lineno=14})),buf.push("\n    "),__stack.lineno=15,totalPages>1&&(buf.push('\n    <nav class="capsule__nav">\n        <span class="capsule__current-page">\n            ',escape((__stack.lineno=18,currentPage)),"/",escape((__stack.lineno=18,totalPages)),'\n        </span>\n        <span class="capsule__nav-button capsule__nav-button--prev"></span>\n        <span class="capsule__nav-button capsule__nav-button--next"></span>\n    </nav>\n    '),__stack.lineno=23),buf.push("\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title"><%= title %></h4>\n<div class="capsule__body">\n    <% _.each(items, function(item, index) { %>\n        <article class="capsule__item capsule__item--<%= index %> capsule--multiple__item">\n            <a href="<%= item.url %>">\n                <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %> capsule--multiple__item-figure">\n                    <img class="capsule__item-image capsule__item-image--<%= item.media.orientation %>" src="<%= index === 0 ? item.media.src : item.media.thumbnail %>">\n                </figure>\n                <h3 class="capsule__item-title capsule--multiple__item-title"><%= item.title %></h3>\n            </a>\n        </article>\n    <% }); %>\n    <% if (linkUrl && linkText) { %>\n        <article class="capsule__item"><a href="<%= linkUrl %>" class="capsule__more"><%= linkText %></a></article>\n    <% } %>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<h4 class="capsule__title">',escape((__stack.lineno=1,title)),'</h4>\n<div class="capsule__body">\n    '),__stack.lineno=3,_.each(items,(function(e,t){buf.push('\n        <article class="capsule__item capsule__item--',escape((__stack.lineno=4,t)),' capsule--multiple__item">\n            <a href="',escape((__stack.lineno=5,e.url)),'">\n                <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=6,e.media.orientation))," capsule__item-figure--",escape((__stack.lineno=6,type)),' capsule--multiple__item-figure">\n                    <img class="capsule__item-image capsule__item-image--',escape((__stack.lineno=7,e.media.orientation)),'" src="',escape((__stack.lineno=7,0===t?e.media.src:e.media.thumbnail)),'">\n                </figure>\n                <h3 class="capsule__item-title capsule--multiple__item-title">',escape((__stack.lineno=9,e.title)),"</h3>\n            </a>\n        </article>\n    "),__stack.lineno=12})),buf.push("\n    "),__stack.lineno=13,linkUrl&&linkText&&(buf.push('\n        <article class="capsule__item"><a href="',escape((__stack.lineno=14,linkUrl)),'" class="capsule__more">',escape((__stack.lineno=14,linkText)),"</a></article>\n    "),__stack.lineno=15),buf.push("\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<h4 class="capsule__title capsule--horizontal__title">\n    <%= title %>\n    <% if (linkUrl && linkText) { %>\n        <a href="<%= linkUrl %>" class="capsule--horizontal__cta"><%= linkText %></a></span>\n    <% } %>\n</h4>\n<div class="capsule__body  capsule--horizontal__body">\n    <% _.each(items, function(item, index) { %>\n        <article class="capsule__item capsule__item--<%= index %> capsule--multiple__item  capsule--horizontal__item">\n            <a href="<%= item.url %>">\n                <figure class="capsule__item-figure capsule__item-figure--<%= item.media.orientation %> capsule__item-figure--<%= type %> capsule--multiple__item-figure">\n                    <img class="capsule__item-image capsule__item-image--<%= item.media.orientation %>" src="<%=item.media.src%>">\n                </figure>\n                <h3 class="capsule__item-title capsule--horizontal__item-title"><%= item.title %></h3>\n            </a>\n        </article>\n    <% }); %>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<h4 class="capsule__title capsule--horizontal__title">\n    ',escape((__stack.lineno=2,title)),"\n    "),__stack.lineno=3,linkUrl&&linkText&&(buf.push('\n        <a href="',escape((__stack.lineno=4,linkUrl)),'" class="capsule--horizontal__cta">',escape((__stack.lineno=4,linkText)),"</a></span>\n    "),__stack.lineno=5),buf.push('\n</h4>\n<div class="capsule__body  capsule--horizontal__body">\n    '),__stack.lineno=8,_.each(items,(function(e,t){buf.push('\n        <article class="capsule__item capsule__item--',escape((__stack.lineno=9,t)),' capsule--multiple__item  capsule--horizontal__item">\n            <a href="',escape((__stack.lineno=10,e.url)),'">\n                <figure class="capsule__item-figure capsule__item-figure--',escape((__stack.lineno=11,e.media.orientation))," capsule__item-figure--",escape((__stack.lineno=11,type)),' capsule--multiple__item-figure">\n                    <img class="capsule__item-image capsule__item-image--',escape((__stack.lineno=12,e.media.orientation)),'" src="',escape((__stack.lineno=12,e.media.src)),'">\n                </figure>\n                <h3 class="capsule__item-title capsule--horizontal__item-title">',escape((__stack.lineno=14,e.title)),"</h3>\n            </a>\n        </article>\n    "),__stack.lineno=17})),buf.push("\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(7);e.exports={Model:i.Model.extend({defaults:{sources:[],srcset:null,primary:null,altText:""}}),View:i.View.extend({initialize:function(){n(document).off("keydown.expandedImg").on("keydown.expandedImg",this.keyAction.bind(this))},template:a(270),render:function(){if(this.template&&this.model){var e=this.model.attributes;e.primary=null,e.primaryUrl?e.primary={url:e.primaryUrl}:e.sources.length>0&&(e.primary=e.sources.slice(0,1)[0]),this.$el.html(this.template(e))}return this.showOverlay(),this},events:{"click .expanded-image__overlay":"closeExpand","click .expanded-image__overlay-close":"closeExpand",keydown:"keyAction"},closeExpand:function(){this.$el.removeClass("expanded-image__target--shown"),this.template&&this.$el.empty()},keyAction:function(e){27===(e.keyCode||e.which)&&this.closeExpand()},showOverlay:function(){this.$el.find(".expanded-image__overlay").addClass("expanded-image__overlay--shown")}})}},function(e,t,a){var n=a(113);e.exports={Model:{parse:function(e){e.caption=e.caption||"",e.credit=e.credit||"",e.altText=e.altText||e.title||"",e.path=this.makeImageSrc(e.path),e.srcset=this.makeImagecacheSrcSet(e);var t=null;for(var a in e.sizes)if(e.sizes.hasOwnProperty(a)){var n=e.sizes[a];(null===t||n.width>=t.width)&&(t=n)}return e}},View:{expandedImageView:null,template:a(115),events:{"click .embedded-image__image--expandable":"expandImage"},expandImage:function(){if(null===this.expandedImageView){var e=this.$(".expanded-image__target"),t=new n.Model(e.data()),a=new n.View({model:t,el:e[0]});this.expandedImageView=a}this.expandedImageView.render()}}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<figure class="<% if(typeof size !== "undefined") { %>mainembed mainembed-<%- size %> <% if(typeof alignment !== "undefined") { %>align-<%- alignment %><% } %><% } %>">\n    <img class="embedded-image__image <% if (srcset) { %>embedded-image__image--expandable<% } %>"\n        <% if (altText) { %>alt="<%= altText %>"<% }%>\n        src="<%= path %>"\n        <% if (srcset) { %>\n            srcset="<%= srcset.join(\', \') %>">\n        <% } %>\n    <% if (caption || credit) { %>\n    <figcaption class="embedded-image__details-text">\n        <% if (credit) { %>\n            <div class="media__credit"><%- credit %></div>\n        <% } %>\n        <% if (caption) { %>\n            <div class="media__caption"><%- caption %></div>\n        <% } %>\n    </figcaption>\n    <% } %>\n</figure>\n<% if (srcset) { %><div class="expanded-image__target" data-primary-url="<%= path %>" data-srcset="<%= srcset.join(\', \') %>" data-alt-text="<%= altText ? altText : \'\' %>"></div><% } %>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<figure class="'),__stack.lineno=1,"undefined"!=typeof size&&(buf.push("mainembed mainembed-",(__stack.lineno=1,size)," "),__stack.lineno=1,"undefined"!=typeof alignment&&(buf.push("align-",(__stack.lineno=1,alignment),""),__stack.lineno=1),buf.push(""),__stack.lineno=1),buf.push('">\n    <img class="embedded-image__image '),__stack.lineno=2,srcset&&(buf.push("embedded-image__image--expandable"),__stack.lineno=2),buf.push('"\n        '),__stack.lineno=3,altText&&(buf.push('alt="',escape((__stack.lineno=3,altText)),'"'),__stack.lineno=3),buf.push('\n        src="',escape((__stack.lineno=4,path)),'"\n        '),__stack.lineno=5,srcset&&(buf.push('\n            srcset="',escape((__stack.lineno=6,srcset.join(", "))),'">\n        '),__stack.lineno=7),buf.push("\n    "),__stack.lineno=8,(caption||credit)&&(buf.push('\n    <figcaption class="embedded-image__details-text">\n        '),__stack.lineno=10,credit&&(buf.push('\n            <div class="media__credit">',(__stack.lineno=11,credit),"</div>\n        "),__stack.lineno=12),buf.push("\n        "),__stack.lineno=13,caption&&(buf.push('\n            <div class="media__caption">',(__stack.lineno=14,caption),"</div>\n        "),__stack.lineno=15),buf.push("\n    </figcaption>\n    "),__stack.lineno=17),buf.push("\n</figure>\n"),__stack.lineno=19,srcset&&(buf.push('<div class="expanded-image__target" data-primary-url="',escape((__stack.lineno=19,path)),'" data-srcset="',escape((__stack.lineno=19,srcset.join(", "))),'" data-alt-text="',escape((__stack.lineno=19,altText||"")),'"></div>'),__stack.lineno=19),buf.push("\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(4),i=a(43);e.exports={Model:{parse:function(e){return void 0===e.autoplay&&(e.autoplay=!0),void 0===e.applicationId&&(e.applicationId="Article Inline Player"),e.account_id&&(e.account=e.account_id),e.player_id&&(e.player=e.player_id),e.id&&(e.videoId=e.id),e}},View:n.extend({},i,{template:a(282)})}},function(e,t,a){var n=a(10),i=a(283),s=a(33),r=function(){switch(o()){case"blog":return".blog-post-body";default:return".article__body"}},l=function(){switch(o()){case"article":return n(".article__content-well.is-active");case"blog":return n(".blog-post.is-active");case"gallery":return n("#page-content");default:return n("body")}},o=function(){return n("body.article-page").length?"article":n("body.blog-post-page").length?"blog":n("body.gallery-page").length?"gallery":void 0},c=function(e){(e=e||l()).find(".zergnet-holder").each((function(){n(this).empty()}))},d=function(e){(e=e||l()).find(".zergnet-holder").each((function(){!function(e,t){var i=n(e),s=a(284);if(t.length&&0===i.children().length)for(var r=0;r<t.length;r++){var l=n(s({widgetId:t[r]}));i.append(l)}}(this,function(e,t,a){var s=i.placements[t]||[];if(i.threshholds&&i.threshholds[t]){var l=i.threshholds[t],o=a.find(r());if(o.find('.mv-widget,.quizz-container,iframe[src*="qzzr"]').length&&(o=(o=o.find('.mv-widget,.quizz-container,iframe[src*="qzzr"]').first()).prev().length>0?o.prev():o.parents("p").prev()),o.length){var c=n(window).width(),d=n(e).offset().top-(o.offset().top+o.outerHeight());d=d>=0?d:0;for(var p=Object.keys(l),_=0;_<p.length;_++){var u=p[_];if(c>=u&&(void 0===p[_+1]||c<p[_+1]))for(var h=l[u],m=Object.keys(h),f=0;f<m.length;f++){var g=m[f];if(d>=g&&(void 0===m[f+1]||d<m[f+1]))return h[g]}}}}return s}(this,n(this).data("placement"),e))}))};e.exports={expose:function(){s.createScript("//www.zergnet.com/zerg-inf-multi.js"),window.PGM=window.PGM||{},window.PGM.zergnet={removeWidgets:c,renderWidgets:d},window.smg=window.smg||{},window.smg.plugins=window.smg.plugins||{},window.smg.plugins.zergnet={removeWidgets:c,renderWidgets:d}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){var n=a(3),i=a(7),s=a(6)("init"),r=i.Model.extend({fetch:function(){this.trigger("change")},slashify:function(e){return(e=e||"").startsWith("http")?e:(e.startsWith("/")?"":"/")+e},makeImageSrc:function(e){return(e=this.slashify(e)).startsWith("http")?e:window.THR&&window.THR.config&&window.THR.config.mediaHost?window.THR.config.mediaHost+e:window.BB&&window.BB.config&&window.BB.config.mediaHost?window.BB.config.mediaHost+e:e},makeImagecacheSrc:function(e){return this.makeImageSrc(e.path)},makeImagecacheSrcSet:function(e){var t=[];if(e.sizes)for(var a=0;a<e.sizes.length;a++)t.push(this.makeImageSrc(e.sizes[a].path)+" "+e.sizes[a].width+"w");return t}}),l=i.View.extend({template:function(){return""},serializeData:function(){return this.model.toJSON()},render:function(){return this.$el.html(this.template(this.serializeData())),this.onRender(),this},onRender:function(){}}),o={},c=function(e,t){e.each((function(){var e=n(this),a=window.scrollY+t;e.offset().top+e.height()<=1.8*a&&!e.hasClass("is-embed-initialized")&&(!function(e){var t,a,i,c,d=n(),p=n(e).attr("data-template");if(p&&o[p]){try{t=JSON.parse(n(e).find('script[type="application/json"]').html())}catch(t){return void s("Could not find embed data in",e)}a="function"==typeof o[p].modelData.extend?o[p].modelData:r.extend(o[p].modelData),(c=new("function"==typeof o[p].viewData.extend?o[p].viewData:l.extend(o[p].viewData))({model:i=new a(t,{parse:!0}),el:e})).listenTo(i,"change",c.render),c.$el.addClass("embedded-content--"+p),n.data(e,"embedModel",i),n.data(e,"embedView",c),i.fetch(),d=d.add(c.$el),s("Initializing Embed",p,"on",e)}else s("Could Not Initialize Embed",p,"on",e)}(e),e.addClass("is-embed-initialized"),n.railSliders&&n.railSliders.recalculate())}))};e.exports={setBaseView:function(e){l=e},getBaseView:function(){return l},setBaseModel:function(e){r=e},getBaseModel:function(){return r},register:function(e,t,a){o[e]={modelData:t||{},viewData:a||{}}},attach:function(){var e=n(".embedded-content[data-template]:not(.is-embed-initialized)"),t=window.innerHeight;n(window).resize((function(){t=window.innerHeight})),e.length>0&&(n(document).ready((function(){c(e,t)})),n(document).scroll((function(){c(e.filter(":not(.is-embed-intialized)"),t)})))}}},function(e,t,a){var n=a(3);e.exports={init:function(){window.PGM=window.PGM||{},window.PGM.sponsors=window.PGM.sponsors||{},window.PGM.sponsors.push=function(e){e.images.both?n("#header-sponsor-image, #article-sponsor-image").attr("src",e.images.both):(n("#header-sponsor-image").attr("src",e.images.dark),n("#article-sponsor-image").attr("src",e.images.light)),n(".longform__sponsor").css("display","inline-block"),n(".article__sponsor").css("display","inline-block"),e.sponsored_text&&e.sponsored_text.length>0&&n("#header-sponsor-presented-by, #article-sponsor-presented-by").text(e.sponsored_text),e.hide_sponsor_name||n(".sponsor-name").text(e.name),n(".sponsor-link").attr("href",e.url)}}}},function(e,t,a){var n=a(3),i=a(6)("init"),s=a(252),r={};e.exports={setBaseView:function(e){s=e},getBaseView:function(){return s},register:function(e,t){r[e]="function"==typeof t.extend?t:s.extend(t)},attach:function(){var e=n();return n("[data-content-type]:not(.autoload-direct-render):not(.is-content-initialized)").each((function(){var t,a=this.getAttribute("data-content-type");a&&r[a]?(t=new r[a]({el:this}),n.data(this,"contentView",t.render()),e=e.add(t.$el),i("Initializing Content Type",a,"on",this)):i("Could Not Initialize Content Type",a,"on",this),n(this).addClass("is-content-initialized")})),e}}},function(e,t,a){var n=a(7);e.exports=n.View.extend({render:function(){return this.onRender(),this},onRender:function(){}})},function(e,t,a){var n=a(3),i=a(4),s=a(2),r=i.once((function(){n(".site-footer").addClass("perma-hidden"),window.Waypoint.refreshAll()}));e.exports=function(){var e=n(".autoload-direct-render");0!==e.length?(r(),e.filter(":not(.processed-by-autoloader)").each((function(){var e=n(this),t=this.getAttribute("data-url-prefix")||"",a=this.getAttribute("data-url"),i=document.location.search||"";void 0!==a&&e.waypoint({handler:function(){e.addClass("autoload-spinner"),n.ajax({url:t+a+i,success:function(t){e.replaceWith(t),s.trigger("asyncContentReady",null,t)}})},offset:"150%",triggerOnce:!0})})).addClass("processed-by-autoloader")):n(".js-autoloadStop").length&&n(".site-footer").removeClass("perma-hidden")}},function(e,t,a){var n=a(3),i=a(2),s=a(6)("init"),r=a(35),l=n(".js-pageContent");function o(e){if(void 0!==this.href){e.preventDefault(),n("html, body").stop(!0).animate({scrollTop:0},"slow");var t=this.href.replace(/^https?:\/\/[^\/]*/,"");n.ajax({url:"/fe_data"+t,success:function(a){var o=n("<div>").html(a).children(".js-mainContent").data("content-type");if(o){i.trigger("asyncContentUnloaded",o,l),l.html(a),i.trigger("asyncContentReady",o,a);var c=l.find(".js-mainContent");0!==c.length&&r.changeUrl(t,o,c,"down",{replace:!0})}else s("In page load failed on",e.target,"with no contentType.")}})}}e.exports={init:function(){0!==l.length?(s("Setting up in-page loading for",l),n("body").on("click",".js-loadInPage",o)):s("Not setting up in-page loading: no `.js-pageContent` element present.")}}},function(e,t,a){var n=a(6)("3p");e.exports=function(){window.instgrm&&window.instgrm.Embeds&&"function"==typeof window.instgrm.Embeds.process?(n("refreshing instagram"),window.instgrm.Embeds.process()):n("not refreshing instagram"),window.FB&&window.FB.XFBML&&"function"==typeof window.FB.XFBML.parse?(n("refreshing facebook"),window.FB.XFBML.parse()):n("not refreshing facebook")}},function(e,t,a){var n=a(3),i=a(4),s=a(2),r=a(6),l=r("cpt"),o=a(20),c=i.once((function(){s.on("ads:slotRenderEnded",(function(){window.Waypoint.refreshAll()}))}));e.exports={initialize:function(){var e=this;this.autoplayMainVideo=i.once(this.autoplayMainVideo),this.setupArticleItemRefresh=i.once(this.setupArticleItemRefresh),c(),s.on("urlChange:post",(function(t,a,i){n.inArray(t,-1!==["article","blogPost"])&&a.is(e.$el)&&e.isActive(i)}))},autoplayMainVideo:function(){var e=this.$('.main-media--video [data-content-type="brightcoveVideo"]');if(e.length||(e=this.$('.news-featured-media--video [data-content-type="brightcoveVideo"]')),e.length){var t=e.data("contentView");t&&t.play()}},isActive:function(e){"down"===e&&this.autoplayMainVideo()},onRender:function(){try{var e=JSON.parse(n(".js-leftRail-container").children("script").text()).options;this.setupArticleItemRefresh(this.$el,e)}catch(e){r("init","Failed to parse data for left rail options.",n(".js-leftRail-container").children("script"))}},setupArticleItemRefresh:function(e,t){if(!e.hasClass("is-article-item-refresh-processed")&&t.articleItemPageviewInterval&&n.isNumeric(t.articleItemPageviewInterval)){var a=e.addClass("is-article-item-refresh-processed").find(".js-revarticle-articleItem");a.find("img").on("load",(function(){window.Waypoint.refreshAll()})),a.each((function(e,a){if(0!==e){var i=n(a);i.waypoint({handler:function(){if(e%t.articleItemPageviewInterval==0&&(l("triggering pageview for article item",e),s.trigger("trackPageview",{fireGTM:"on"})),e%t.articleItemComscoreInterval==0&&(l("triggering comscore for",e),s.trigger("trackComscore",a,i)),e%t.articleItemRailAdRefreshInterval==0){l("triggering left rail refresh for",e);var r=n(".dfp-ad-m1");r.length&&o.refresh(r)}},offset:"50%"})}}))}}}},,,,function(e,t,a){var n=a(3),i=a(4),s=a(2),r=a(62),l=a(261);e.exports={cookieName:"_pgmHasSubscribed",events:{"keyup .js-subscribe-email":"keyupHandler","keydown .js-subscribe-email":"keydownHandler","submit form":"submitHandler"},email:"",lists:"",source:"",vars:"",g_id:0,initialize:function(){this.el.className=this.el.className+" is-initialized",this.$form=this.$("form"),this.$mainEl=this.$(".email-subscribe"),this.$grecaptchaContainer=this.$(".g-recaptcha-container"),i.bindAll(this,"keydownHandler","sendSignupRequest","ajaxSuccessHandler","ajaxErrorHandler","errorHandler","toggleLoader"),this.checkCookieValue()&&this.$el.show()},emailRegex:/^[^@\s]+@[^@\s]+\.[^@\s]{2,}$/i,errorClass:"email-subscribe--error",keydownHandler:function(e){e.keyCode&&13===e.keyCode&&this.submitHandler(e)},checkCookieValue:function(){var e=r.readCookie(this.cookieName)?JSON.parse(r.readCookie(this.cookieName)):null;if(e){var t=this.$('input[name="lists"]').length?this.$('input[name="lists"]').val():null,a=this.$('input[name="vars"]').length?JSON.parse(this.$('input[name="vars"]').val()):{};for(var n in e){var i=0;for(var s in e[n])if(null===t||s!==t){for(var l in a)if(s===l){i++;break}}else i++;if(null!==t?i===Object.keys(a).length+1:i===Object.keys(a).length)return!1}return!0}return!0},keyupHandler:function(){null===this.$(".js-subscribe-email").val().match(this.emailRegex)?this.$mainEl.addClass(this.errorClass+"--progress"):(this.$mainEl.removeClass(this.errorClass+"--progress"),this.errorHandler())},errorHandler:function(e){e?this.$mainEl.addClass(this.errorClass).find(".email-subscribe__error-message").show().text(e):this.$mainEl.removeClass(this.errorClass).find(".email-subscribe__error-message").hide().empty()},submitHandler:function(e){if(e.preventDefault(),this.email=this.$(".js-subscribe-email").val(),this.source=this.$('input[name="source"]').val(),this.$('input[name="lists"]').length&&(this.lists=this.$('input[name="lists"]').val().split(",")),this.$('input[name="vars"]').length&&(this.vars=this.$('input[name="vars"]').val()),this.errorHandler(),null===this.email.match(this.emailRegex))return this.errorHandler("Please enter a valid email address."),!1;this.$grecaptchaContainer[0].hasChildNodes()?grecaptcha.reset(this.g_id):this.g_id=grecaptcha.render(this.$grecaptchaContainer[0],{sitekey:PGM.greCaptchaSiteKey,callback:this.sendSignupRequest,size:"invisible"}),this.$(".js-subscribe-email").blur(),this.toggleLoader(!0),grecaptcha.execute(this.g_id)},sendSignupRequest:function(e){n.ajax({url:"/fe-ajax/newsletter_signup",method:"POST",data:{captcha_token:e,email:this.email,lists:this.lists,source:this.source,vars:this.vars},error:this.ajaxErrorHandler,success:this.ajaxSuccessHandler})},ajaxSuccessHandler:function(){var e=this;s.trigger("trackEvent",{label:"Email Signup"}),this.toggleLoader().then((function(){return e.$mainEl.addClass("email-subscribe--success")}));var t=this.$mainEl.find(".email-subscribe__success-message__link");t.length&&t.attr("href",t.attr("href")+this.email),this.updateRegisterCookie()},updateRegisterCookie:function(){var e=JSON.parse(this.vars);this.$('input[name="lists"]').length&&(e[this.$('input[name="lists"]').val()]=1);var t=r.readCookie(this.cookieName);t?(t=JSON.parse(t))[Object.keys(t).length]=e:(t={})[0]=e,r.updateCookie(this.cookieName,JSON.stringify(t))},ajaxErrorHandler:function(){var e=this;this.toggleLoader().then((function(){return e.errorHandler("An error occurred, please try again.")}))},toggleLoader:function(e){var t=this;if(!e&&this.$loader){return new Promise((function(e){var a=(new Date).getTime()-t.loaderTimestamp;a>=750?(t.$loader.remove(),e()):setTimeout((function(){t.$loader.remove(),e()}),750-a)}))}return this.$loader=n(l()),this.$loader.css({background:"rgba(255, 255, 255, .8)",position:"absolute",top:0,left:0,right:0,bottom:0}),this.$(".email-subscribe__content-holder").append(this.$loader),this.loaderTimestamp=(new Date).getTime(),new Promise((function(e){return e()}))}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="loader-dots-holder">\n    <div class="loader-dots">\n      <div class="bounce1"></div>\n      <div class="bounce2"></div>\n      <div class="bounce3"></div>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="loader-dots-holder">\n    <div class="loader-dots">\n      <div class="bounce1"></div>\n      <div class="bounce2"></div>\n      <div class="bounce3"></div>\n    </div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(4),s=a(7),r=a(22),l=a(2),o=a(28),c=s.View.extend({tagName:"aside",className:"longform__body-supplementary",insertAd:function(){var e=n(o({slot:window.PGM.ads.data.slots.m,paywallDefer:window.PGM.ads.enableDeferredAds||!1}));this.$el.append(e),l.trigger("adTemplatesInserted",e)}});e.exports={initialize:function(){var e=n(".longform__body-primary").children("p");if(window.PGM.Header.initializeScrollTracking(this.$el),window.PGM.ads.data.slots.longform_t2){var t=n(o({slot:window.PGM.ads.data.slots.longform_t2,paywallDefer:window.PGM.ads.enableDeferredAds||!1}));e.eq(Math.floor(e.length/2)).after(t),l.trigger("adTemplatesInserted",t)}this.$bodyElements=n(".longform__body-primary").children().clone()},onRender:function(){this.layoutArticle()},layoutArticle:function(){this.$(".longform__body .container:not(:first-of-type)").remove();var e=this.$(".longform__body .container"),t=e.find(".longform__body-primary").empty(),a=function(a){var s=i.extend({insertAd:!1},a),r=new c;t=n("<div>").addClass("longform__body-primary"),e=n("<div>").addClass("container").insertAfter(e).append(r.render().$el).append(t),s.insertAd&&r.insertAd()},s=i.bind((function(){var e;try{e=JSON.parse(this.$("#feature_promos").text())}catch(e){return!1}return e&&e[0]}),this);this.$bodyElements.each((function(){var i;-1!==this.className.indexOf("dfp-ad-longform_t2")?(i=s(),a({insertAd:!!i}),i&&function(t){n("<div>").attr({class:"embedded-content","data-template":"promo"}).append(n('<script type="application/json">').text(JSON.stringify(t))).prependTo(e.find(".longform__body-supplementary"))}(i),e.before(this)):!function(e){return-1!==e.className.indexOf("embedded-content")&&"promo"===e.getAttribute("data-template")}(this)?t.append(this):(a({insertAd:!0}),e.find(".longform__body-supplementary").prepend(this))})),this.$(".longform__body p").each((function(){""===this.innerHTML.trim()&&this.parentNode.removeChild(this)})),r.register(window.PGM.mediaQueries.large,{match:function(){n(".dfp-ad-m, .dfp-ad-m1").railSlider({headerOffset:n("#site-header").height()+8})},unmatch:function(){n(".dfp-ad-m, .dfp-ad-m1").each((function(){n.railSliders.disable()}))}}),i.defer((function(){n.railSliders.recalculate()}))}}},function(e,t,a){var n=a(10),i=a(4),s=a(22),r=a(2),l=i.once((function(){r.on("ads:slotRenderEnded",(function(){n.railSliders.recalculate(!0)}))}));e.exports={initialize:function(){var e=this;e.stickyHolder=e.$el.find(".sidebar-sticky-holder"),0!==e.stickyHolder.length&&(l(),s.register(window.PGM.mediaQueries.large,{deferSetup:!0,setup:function(){e.stickyHolder.each((function(){n(this).railSlider({context:".col-holder__right-col",headerOffset:n("#site-header").height()+8})}))},match:function(){console.log(n.railSlider),n.railSliders.recalculate(!0)},unmatch:function(){n.railSliders.disable()}}))}}},function(e,t,a){var n=a(3),i=a(4),s=a(7),r=a(6)("topic"),l=i.debounce((function(){n.railSliders&&n.railSliders.recalculate()}),200),o=s.Model.extend({}),c=s.Model.extend({initialize:function(){var e=this.get("type");"multiple"!==e&&(this.pageLength="video"===e||"gallery"===e?2:3,this.on("change:currentIndex",this.setCurrentPage),this.set("totalPages",Math.ceil(this.get("items").length/this.pageLength)),this.set("currentIndex",0))},setCurrentPage:function(){var e=this.get("currentIndex");this.set("currentPageItems",this.get("items").slice(this.pageLength*e,this.pageLength*e+this.pageLength)),this.set("currentPage",e+1)},nextPage:function(){var e=this.get("currentIndex")+1;this.set("currentIndex",e<this.get("totalPages")?e:0)},prevPage:function(){var e=this.get("currentIndex")-1;this.set("currentIndex",e<0?this.get("totalPages")-1:e)}}),d=s.Collection.extend({initialize:function(){this.currentIndex=0},model:c,getCurrentIndex:function(){return this.currentIndex},next:function(){return r("topic","rendering "+this.currentIndex+" of "+this.length),this.at(this.currentIndex++%this.length)},reset:function(e){this.currentIndex=e||0}}),p=s.View.extend({tagName:"aside",className:function(){return["capsule","capsule--"+this.model.get("type"),"capsule--"+("pushdown"===this.model.get("type")?"horizontal":"vertical")].join(" ")},initialize:function(){var e=this.model.get("type");"video"===e||"gallery"===e?e="media":"list_index"!==e&&"review"!==e||(e="list"),this.template=a(265)("./capsule-"+e),this.listenTo(this.model,"change:currentPage",this.render)},events:{"click .capsule__nav-button--next":"nextPage","click .capsule__nav-button--prev":"prevPage"},render:function(){return this.$el.html(this.template(this.model.toJSON())),l(),this},nextPage:function(){this.model.nextPage()},prevPage:function(){this.model.prevPage()}}),_=s.View.extend({tagName:"aside",className:function(){var e="pushdown"===this.model.get("type")?"horizontal":"vertical";return["capsule","capsule--swipe","capsule--swipe-"+e,"capsule--"+e].join(" ")},initialize:function(){var e=this.model.get("type"),t="";"chart"!==e&&"pushdown"!==e||(t="-"+e),this.template=a(266)("./capsule-swipe"+t)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),u=i.once((function(){return new d})),h=i.once((function(){return new o}));e.exports=s.View.extend({initialize:function(){var e,t,a;this.blockViews=[],this.pushdownPromo=h(),this.blocksCollection=u(),e=this.$el.data("topicslug"),t=this.pushdownPromo,a=this.blocksCollection,n.ajax({url:"/fe_data/topic_blocks/"+e,success:function(e){void 0!==e.pushdownPromo&&null!==e.pushdownPromo&&t.set(e.pushdownPromo),a.set(e.blocks)},error:function(){r("topic","could not fetch topic blocks")}}),this.collectionResetTarget=this.blocksCollection.getCurrentIndex(),this.resizeSlidersForAds(),n(window).on("resize",i.debounce(i.bind(this.render,this),150))},resizeSlidersForAds:function(){var e=this;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",i.bind(e.handleSlotRenderEnded,e))}))},events:i.extend({"click .topic-index__summary-toggle":"toggleSummary","click .topic-share__toggle":"toggleShare"},window.PGM.touch?{"touchend .topic-card__featured-flag":"toggleFeaturedFlagIndicator"}:{"mouseenter .topic-card__featured-flag":"toggleFeaturedFlagIndicator","mouseleave .topic-card__featured-flag":"toggleFeaturedFlagIndicator"}),isDesktop:function(){return document.documentElement.clientWidth>=1024},render:function(){return this.$rail=this.$rail||this.$(".js-leftRail"),this.$well=this.$well||this.$(".js-mainWell"),this.removeBlockViews(),this.isDesktop()&&this.insertLeftRailAds(),this.blocksCollection.length?this.insertBlockViews():this.listenTo(this.blocksCollection,"add",this.render),this},toggleFeaturedFlagIndicator:function(e){/is-expanded/.test(e.currentTarget.className)?e.currentTarget.className=e.currentTarget.className.replace(" is-expanded",""):e.currentTarget.className+=" is-expanded"},toggleSummary:function(){this.$(".topic-index__summary").toggleClass("is-closed"),i.defer(l)},toggleShare:function(e){/is-expanded/.test(e.target.parentNode.className)?e.target.parentNode.className=e.target.parentNode.className.replace(" is-expanded",""):e.target.parentNode.className+=" is-expanded"},insertLeftRailAds:function(){for(var e=['<div class="topic-index__slide-container">',a(28)({slot:window.PGM.ads.data.slots.rail}),"</div>"].join("");this.$rail.find(".topic-index__slide-container").length<3;)this.$rail.append(e);this.$rail.find(".dfp-ad").railSlider({context:".topic-index__slide-container",headerOffset:function(){return n("#site-header").outerHeight(!0)+24}})},insertBlockViews:function(){var e=this.isDesktop()?this.$rail.find(".topic-index__slide-container"):this.$well.find(".dfp-ad"),t=this.isDesktop()?p:_;e.each(i.bind((function(e,a){var n=new t({model:this.blocksCollection.next()});this.blockViews.push(n.render()),n.$el.insertAfter(a)}),this)),this.pushdownPromo.has("title")&&this.$(".js-pushdownPromo").append(new t({model:this.pushdownPromo}).render().$el)},removeBlockViews:function(){i.each(this.blockViews,(function(e){e.remove()})),this.$(".js-pushdownPromo").empty(),this.blockViews=[],this.blocksCollection.reset(this.collectionResetTarget)},handleSlotRenderEnded:function(e){if(!e.isEmpty&&this.isDesktop()){var t=document.getElementById(e.slot.getSlotElementId());/(dfp-ad-(rail|m1))/.test(t.className)&&(t.parentNode.style.minHeight=parseInt(e.size[1],10)+1e3+"px",l())}}})},function(e,t,a){var n={"./capsule-chart":108,"./capsule-chart.ejs":108,"./capsule-list":109,"./capsule-list.ejs":109,"./capsule-media":110,"./capsule-media.ejs":110,"./capsule-multiple":111,"./capsule-multiple.ejs":111,"./capsule-pushdown":112,"./capsule-pushdown.ejs":112,"./capsule-swipe":51,"./capsule-swipe-chart":52,"./capsule-swipe-chart.ejs":52,"./capsule-swipe-pushdown":53,"./capsule-swipe-pushdown.ejs":53,"./capsule-swipe.ejs":51};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=265},function(e,t,a){var n={"./capsule-swipe":51,"./capsule-swipe-chart":52,"./capsule-swipe-chart.ejs":52,"./capsule-swipe-pushdown":53,"./capsule-swipe-pushdown.ejs":53,"./capsule-swipe.ejs":51};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=266},function(e,t,a){var n=a(3),i=a(4),s=a(7);e.exports=s.View.extend({initialize:function(){i.bindAll(this,"render"),n(window).on("resize."+this.cid,i.debounce(this.render,200))},render:function(){return document.documentElement.clientWidth>1023&&this.el.getAttribute("data-background-desktop")?this.layoutBackground("desktop"):document.documentElement.clientWidth>767&&this.el.getAttribute("data-background-tablet")?this.layoutBackground("tablet"):this.$el.removeAttr("style"),this},layoutBackground:function(e){this.$el.css({backgroundImage:"url("+this.el.getAttribute("data-background-"+e)+")",minHeight:9*document.documentElement.clientWidth/16+"px",height:this.$(".topic-splash__content").height()+"px"})},remove:function(){n(window).off("."+this.cid),s.View.prototype.remove.call(this)}})},function(e,t,a){var n=a(3),i=a(4),s=a(22),r=a(80),l=a(43);a(2).on("asyncContentUnloaded",(function(e,t){"videoPage"===e&&t.find(".video-js").each((function(){var e=n(this).find("video.vjs-tech").attr("id");r.getPlayerView(e).dispose()}))}));var o,c="PGM:videoPage:watchedVideoPaths",d=("string"==typeof(o=window.sessionStorage&&window.sessionStorage.getItem(c)||[])&&(o=""===o?[]:o.split(",")),o);function p(e){var t=n(".video-promo--main:not(:visited)").filter((function(){return-1===d.indexOf(this.href.replace(/(^http:\/\/[^\/]*|\?.*$)/gi,""))})).first();t.length&&r.getPlayer(e).ready((function(){this.on("ended",(function(){t.click()}))}))}e.exports=i.extend({},l,{initPlayer:function(){l.initPlayer.apply(this,arguments),this.$("video[data-player]").each(this.initializeVideo),this.initializeDeckWrapper(),this.registerSliders()},initializeVideo:function(e,t){!function(){d.push(document.location.pathname);try{window.sessionStorage&&window.sessionStorage.setItem(c,d.join(","))}catch(e){}}(),p(t.id)},initializeDeckWrapper:function(){var e=this.$(".js-mainVideoDeckWrapper");this.$(".js-mainVideoDeck").get(0).scrollHeight<=e.get(0).scrollHeight&&e.addClass("js-mainVideoDeckWrapper--open")},events:{"click .js-mainVideoDeckWrapper":"expandDeckWrapper"},expandDeckWrapper:function(){this.$(".js-mainVideoDeckWrapper").addClass("js-mainVideoDeckWrapper--open")},sliders:[],registerSliders:function(){var e=this;s.register(window.PGM.mediaQueries.large,{match:function(){e.sliders.concat(e.createSliders(e.$(".js-videoSeries-main"),4),e.createSliders(e.$(".js-videoSeries-other"),3))},unmatch:function(){e.sliders.forEach((function(e){e.destroySlider()})),e.sliders=[]}})},createSliders:function(e,t){var a=[];return e.each((function(e,i){var s=n(i),r=s.find(".video-promo").length,l=r>t?s.find(".video-nav__item--next"):null,o=r>t?s.find(".video-nav__item--prev"):null,c=s.find(".js-slider").bxSlider({pager:!1,controls:r>t,infiniteLoop:!1,hideControlOnEnd:!0,moveSlides:t,minSlides:t,maxSlides:t,slideWidth:240,slideMargin:20,nextSelector:l,prevSelector:o,nextText:"",prevText:"",touchEnabled:!1});a.push(c)})),a}})},function(e,t,a){var n=a(7),i=a(113);e.exports=n.View.extend({expandedImageView:null,events:{"click img":"expandImage"},expandImage:function(){if(null===this.expandedImageView){var e=this.$(".expanded-image__target"),t=new i.Model(e.data()),a=new i.View({model:t,el:e[0]});this.expandedImageView=a}this.expandedImageView.render()}})},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="expanded-image__overlay">\n    <img src="<%= primary ? primary.url : \'\' %>"\n        <% if (sources.length > 0) { %>\n            srcset="<% var count=0; sources.forEach(function(src) { count++; %><%= src.url %> <%= src.size.split(\'x\')[0] %>w<%= count == sources.length ? \'\' : \', \' %><% }); %>"\n        <% } else if (srcset) { %>\n            srcset="<%= srcset %>"\n        <% } %>\n        sizes="100vw"\n        class="expanded-image__overlay-img"\n        alt="<%= altText %>"\n    />\n\n    <i class="expanded-image__overlay-close fa fa-times" aria-hidden="true"></i>\n</div>',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){if(buf.push('<div class="expanded-image__overlay">\n    <img src="',escape((__stack.lineno=2,primary?primary.url:"")),'"\n        '),__stack.lineno=3,sources.length>0){buf.push('\n            srcset="'),__stack.lineno=4;var e=0;sources.forEach((function(t){e++,buf.push("",escape((__stack.lineno=4,t.url))," ",escape((__stack.lineno=4,t.size.split("x")[0])),"w",escape((__stack.lineno=4,e==sources.length?"":", ")),""),__stack.lineno=4})),buf.push('"\n        '),__stack.lineno=5}else srcset&&(buf.push('\n            srcset="',escape((__stack.lineno=6,srcset)),'"\n        '),__stack.lineno=7);buf.push('\n        sizes="100vw"\n        class="expanded-image__overlay-img"\n        alt="',escape((__stack.lineno=10,altText)),'"\n    />\n\n    <i class="expanded-image__overlay-close fa fa-times" aria-hidden="true"></i>\n</div>')}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(4),s=n(window);e.exports={Model:{parse:function(e){var t=this;return n.each(e.items,(function(a){e.items[a].path=window.PGM.config.contentHost+t.slashify(e.items[a].path),e.items[a].image&&(e.items[a].media=e.items[a].image,delete e.items[a].image),e.items[a].media.image&&(e.items[a].media=e.items[a].media.image),e.items[a].media&&e.items[a].media.path?e.items[a].media.path=t.makeImageSrc(e.items[a].media.path):e.items[a].media&&e.items[a].media.crop&&(e.items[a].media.path=e.items[a].media.crop["768x433"])})),e}},View:{initialize:function(){s.on("resize",i.debounce(i.bind(this.render,this),150))},template:a(272),onRender:function(){var e=1===this.model.get("items").length;this.$el.addClass("longform-rail-promo longform-rail-promo--"+(e?"single":"multiple"))}}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% var single = items.length === 1 %>\n<h3 class="longform-rail-promo__headline flap-headline"><%= title ? title : \'Editor&rsquo;s Recommendation\' %></h3>\n\n<div class="longform-rail-promo__items<%= single ? \'\' : \' longform-rail-promo__items--multiple\' %>">\n\n<% _.each(items, function(item, i) { %>\n    <article class="longform-rail-promo__item longform-rail-promo__item--<%= single ? \'single\' : \'multiple\' %><%= i === 0 ? \' longform-rail-promo__item--first\' : \'\' %>">\n\n        <a class="longform-rail-promo__item-title-link" href="<%= item.path %>">\n            <% if (item.media) { %>\n            <figure class="longform-rail-promo__item-media">\n                <img class="longform-rail-promo__item-image" src="<%= item.media.path %>" alt>\n            </figure>\n            <% } %>\n\n            <h2 class="longform-rail-promo__item-title<%= single ? \' longform-rail-promo__item-title--single\' : \'\' %>"><%= item.title %></h2>\n        </a>\n\n        <% if (single) { %>\n        <p class="longform-rail-promo__item-deck"><%= item.deck %></p>\n        <a class="longform-rail-promo__link" href="<%= item.path %>">Read More</a>\n        <% } %>\n    </article>\n<% }) %>\n\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){buf.push(""),__stack.lineno=1;var e=1===items.length;buf.push('\n<h3 class="longform-rail-promo__headline flap-headline">',escape((__stack.lineno=2,title||"Editor&rsquo;s Recommendation")),'</h3>\n\n<div class="longform-rail-promo__items',escape((__stack.lineno=4,e?"":" longform-rail-promo__items--multiple")),'">\n\n'),__stack.lineno=6,_.each(items,(function(t,a){buf.push('\n    <article class="longform-rail-promo__item longform-rail-promo__item--',escape((__stack.lineno=7,e?"single":"multiple")),"",escape((__stack.lineno=7,0===a?" longform-rail-promo__item--first":"")),'">\n\n        <a class="longform-rail-promo__item-title-link" href="',escape((__stack.lineno=9,t.path)),'">\n            '),__stack.lineno=10,t.media&&(buf.push('\n            <figure class="longform-rail-promo__item-media">\n                <img class="longform-rail-promo__item-image" src="',escape((__stack.lineno=12,t.media.path)),'" alt>\n            </figure>\n            '),__stack.lineno=14),buf.push('\n\n            <h2 class="longform-rail-promo__item-title',escape((__stack.lineno=16,e?" longform-rail-promo__item-title--single":"")),'">',escape((__stack.lineno=16,t.title)),"</h2>\n        </a>\n\n        "),__stack.lineno=19,e&&(buf.push('\n        <p class="longform-rail-promo__item-deck">',escape((__stack.lineno=20,t.deck)),'</p>\n        <a class="longform-rail-promo__link" href="',escape((__stack.lineno=21,t.path)),'">Read More</a>\n        '),__stack.lineno=22),buf.push("\n    </article>\n"),__stack.lineno=24})),buf.push("\n\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){e.exports={Model:{parse:function(e){return e.image&&(e.media=e.image,delete e.image),e.path=e["relative-path"]||e.relative_path,e.media.src=this.makeImageSrc(e.media.path),e}},View:{template:a(274)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<figure class="embedded-content--gallery__media embedded-content--gallery__media--<%= media.orientation %>" data-lightbox-content-path="<%= path %>" data-lightbox-tracking-label="Inline">\n    <img class="embedded-image__image embedded-content--gallery__image--<%= media.orientation %> media__image" src="<%= media.src %>">\n\n    <div class="lightbox-cta__wrapper">\n        <div class="lightbox-cta__wrapper__inner">\n            <div class="lightbox-cta__wrapper__text"><%- title %></div>\n            <div class="lightbox-cta__wrapper__cta"><i class="fa fa-camera"></i> View Slideshow</div>\n        </div>\n    </div>\n</figure>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<figure class="embedded-content--gallery__media embedded-content--gallery__media--',escape((__stack.lineno=1,media.orientation)),'" data-lightbox-content-path="',escape((__stack.lineno=1,path)),'" data-lightbox-tracking-label="Inline">\n    <img class="embedded-image__image embedded-content--gallery__image--',escape((__stack.lineno=2,media.orientation)),' media__image" src="',escape((__stack.lineno=2,media.src)),'">\n\n    <div class="lightbox-cta__wrapper">\n        <div class="lightbox-cta__wrapper__inner">\n            <div class="lightbox-cta__wrapper__text">',(__stack.lineno=6,title),'</div>\n            <div class="lightbox-cta__wrapper__cta"><i class="fa fa-camera"></i> View Slideshow</div>\n        </div>\n    </div>\n</figure>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n={gallery:"See",video:"Watch",default:"Read"};e.exports={Model:{parse:function(e){return e.type=e.type||"post",e.verb=n[e.type]||n.default,e.image&&(e.media=e.image,delete e.image),e.media&&(e.media.image&&(e.media=e.media.image),e.media.url=this.makeImagecacheSrc(e.media),e.media.srcset=this.makeImagecacheSrcSet(e.media)),e["relative-path"]&&(e.relative_path=e["relative-path"]),!e.relative_path&&e.path&&(e.relative_path=e.path),e}},View:{template:a(276)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<a class="readmore readmore--<%- type %>" title="<%= title %>" href="<%= relative_path %>">\n    <% if (\n        \'undefined\' !== typeof media &&\n        \'undefined\' !== typeof media.url\n    ) { %>\n        <figure class="readmore__media readmore__media--<%= media.orientation %>">\n            <img class="readmore__image readmore__image--<%= media.orientation %>"\n                src="<%=  media.url %>"\n                <% if (media.srcset) { %>\n                    srcset="<%- media.srcset.join(\', \') %>"\n                <% } %>\n                alt="<%= media.caption %>">\n            <% if (typeof slideCount !== "undefined") { %>\n                <span class="readmore__slide-count">\n                    <%- slideCount %>\n                </span>\n            <% } %>\n        </figure>\n    <% } %>\n    <div class="readmore__text">\n        <h4 class="readmore__cta"><%- verb %> More</h4>\n        <h2 class="readmore__title"><%- title %></h2>\n    </div>\n</a>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<a class="readmore readmore--',(__stack.lineno=1,type),'" title="',escape((__stack.lineno=1,title)),'" href="',escape((__stack.lineno=1,relative_path)),'">\n    '),__stack.lineno=2,"undefined"!=typeof media&&void 0!==media.url&&(buf.push('\n        <figure class="readmore__media readmore__media--',escape((__stack.lineno=6,media.orientation)),'">\n            <img class="readmore__image readmore__image--',escape((__stack.lineno=7,media.orientation)),'"\n                src="',escape((__stack.lineno=8,media.url)),'"\n                '),__stack.lineno=9,media.srcset&&(buf.push('\n                    srcset="',(__stack.lineno=10,media.srcset.join(", ")),'"\n                '),__stack.lineno=11),buf.push('\n                alt="',escape((__stack.lineno=12,media.caption)),'">\n            '),__stack.lineno=13,"undefined"!=typeof slideCount&&(buf.push('\n                <span class="readmore__slide-count">\n                    ',(__stack.lineno=15,slideCount),"\n                </span>\n            "),__stack.lineno=17),buf.push("\n        </figure>\n    "),__stack.lineno=19),buf.push('\n    <div class="readmore__text">\n        <h4 class="readmore__cta">',(__stack.lineno=21,verb),' More</h4>\n        <h2 class="readmore__title">',(__stack.lineno=22,title),"</h2>\n    </div>\n</a>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(4),s=a(7),r=a(2),l=a(6),o=l("hybridPlayer"),c=a(33),d=i.once((function(){return new Promise((function(e){window.onYouTubeIframeAPIReady=e,c.createScriptTag("https://www.youtube.com/iframe_api")}))})),p=s.Model.extend(),_={toJSON:function(){var e=s.Model.prototype.toJSON.call(this);return e.items=this.get("items").toJSON(),e},parse:function(e){return i.extend(e,{items:new s.Collection(e.items,{model:function(t,a){return"brightcove"===t.type&&i.extend(t,{accountId:e.accountId,playerId:e.playerId}),new p(t,a)}}),currentIndex:0})},setIndex:function(e){if(e<0||e>=this.get("items").size())throw{name:"Invalid Index",message:"You tried to set a bad video index"};this.set("currentIndex",e)},getCurrentVideo:function(){return this.get("items").at(this.get("currentIndex"))}},u=s.View.extend({initialize:function(){this.listenTo(r,"hybridPlayer:videoStart",this.stop),this.template=this.getTemplate(),this.onInitialize()},onInitialize:i.noop,getTemplate:function(){return a(278)},events:{"click .hybrid-player-video__container":"play"},className:function(){return"hybrid-player-video hybrid-player-video--"+this.model.get("type")},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},play:function(){this.$el.is(".is-video-playing")||(r.trigger("hybridPlayer:videoStart"),this.$el.addClass("is-video-playing"),this.trackPlayEvent(),this.instantiatePlayer())},trackPlayEvent:function(){r.trigger("trackEvent",{category:"Video - UserInitiated - BB Watch",action:"Play",label:[this.model.get("title"),this.model.get("id")].join(" - ")})},stop:function(){this.$el.is(".is-video-playing")&&(this.destroyPlayerInstance(),this.$(".hybrid-player-video__container").empty(),this.$el.removeClass("is-video-playing"))},instantiatePlayer:function(){o("Called instantiatePlayer on the base class.")},destroyPlayerInstance:function(){o("Called destroyPlayerInstance on the base class.")},remove:function(){this.stop(),s.View.prototype.remove.call(this)}}),h=u.extend({getTemplate:function(){return a(279)},onInitialize:function(){i.bindAll(this,"onPlayerStateChange","play","trackPlayEvent","createYouTubeApiPlayer"),this.trackPlayEvent=i.once(this.trackPlayEvent),this.play=i.after(1,this.play)},events:{},render:function(){return u.prototype.render.call(this),this.$(".hybrid-player-video__player-instance").append('<div id="'+this.cid+'"></div>'),this.instantiatePlayer(),this},play:function(){this.$el.is(".is-video-playing")||(r.trigger("hybridPlayer:videoStart",this.cid),this.$el.addClass("is-video-playing"),this.trackPlayEvent())},stop:function(e){e!==this.cid&&this.player.pauseVideo(),this.$el.removeClass("is-video-playing")},onPlayerStateChange:function(e){e.data!==window.YT.PlayerState.ENDED&&e.data!==window.YT.PlayerState.PAUSED||this.stop(),e.data===window.YT.PlayerState.PLAYING&&this.play()},instantiatePlayer:function(){d().then(this.createYouTubeApiPlayer)},createYouTubeApiPlayer:function(){var e=this.$(".hybrid-player-video__container");this.player=new window.YT.Player(this.cid,{height:e.outerHeight(),width:e.outerWidth(),videoId:this.model.get("videoId"),playerVars:{color:"white",autohide:1,modestbranding:1,showinfo:0,rel:0},events:{onStateChange:i.bind(this.onPlayerStateChange,this)}})},destroyPlayerInstance:function(){this.player&&this.player.destroy()},remove:function(){this.destroyPlayerInstance(),s.View.prototype.remove.call(this)}}),m=u.extend({instantiatePlayer:function(){var e=this.$(".hybrid-player-video__container");n("<video>").attr({class:"video-js",id:"video-js-"+this.model.get("videoId"),"data-video-id":this.model.get("videoId"),"data-account":this.model.get("accountId"),"data-player":l.getData("player")||this.model.get("playerId"),"data-embed":"default",width:e.outerWidth(),height:e.outerHeight(),autoplay:"true",controls:"controls",playsinline:""}).wrap('<div class="hybrid-player-video__player-instance"></div>').parent().appendTo(e),c.createScript("//players.brightcove.net/"+this.model.get("accountId")+"/"+this.model.get("playerId")+"_default/index.min.js",i.bind(this.getPlayerObject,this))},getPlayerObject:function(){this.player=window.videojs("video-js-"+this.model.get("videoId"))},destroyPlayerInstance:function(){this.player&&this.player.remove()}});var f=s.View.extend({initialize:function(){this.listenTo(this.model,"change:currentIndex",this.setCurrentVideo),i.bindAll(this,"setupPlaylistScrollBehavior","calculateNavButtonStates"),this.template=a(280)},tagName:"nav",className:"hybrid-player-playlist",events:{"click .hybrid-player-playlist__item":"selectNewVideo"},deferredEvents:{"click .hybrid-player-playlist__nav":"scrollPlaylist"},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.setCurrentVideo(),i.defer(this.setupPlaylistScrollBehavior),this},selectNewVideo:function(e){var t=this.$(".hybrid-player-playlist__item").index(e.currentTarget);t!==this.model.get("currentIndex")&&this.model.set("currentIndex",t)},setCurrentVideo:function(){this.$(".hybrid-player-playlist__item").removeClass("is-current-video").eq(this.model.get("currentIndex")).addClass("is-current-video")},setupPlaylistScrollBehavior:function(){var e=0;this.$(".hybrid-player-playlist__item").each((function(){e+=n(this).outerWidth(!0)})),this.$(".hybrid-player-playlist__items").width(e),this.itemsWidth=e,this.$prev=this.$(".hybrid-player-playlist__nav--previous"),this.$next=this.$(".hybrid-player-playlist__nav--next"),this.$container=this.$(".hybrid-player-playlist__container"),this.delegateEvents(i.extend(this.events,this.deferredEvents)),this.$container.on("scroll",i.debounce(this.calculateNavButtonStates,100))},scrollPlaylist:function(e){var t=-1!==e.currentTarget.className.search(/next/);this.$container.scrollLeft(this.$container.scrollLeft()+(t?245:-245)),this.calculateNavButtonStates()},calculateNavButtonStates:function(){var e=this.$container.scrollLeft();0===e?this.$prev.attr("disabled",!0):this.$prev.removeAttr("disabled"),e>=this.itemsWidth-this.$container.width()?this.$next.attr("disabled",!0):this.$next.removeAttr("disabled")}}),g=s.View.extend({initialize:function(){this.model.get("items").size()>1&&(this.playlist=new f({model:this.model})),this.listenTo(this.model,"change:currentIndex",this.insertPlayerAndAutoplay),this.template=a(281),this.adTemplate=a(28)},render:function(){this.$el.html(this.template(this.model.toJSON()));var e=window.PGM.ads.data.slots[this.model.get("adSlot")];return e&&n(this.adTemplate({slot:e,prepend:"Presented by:"})).appendTo(this.$(".hybrid-player__header")),this.insertPlayer(),this.playlist&&this.playlist.render().$el.appendTo(this.$el),this},insertPlayer:function(){this.player&&this.player.remove(),this.player=function(e){var t=u;switch(e.get("type")){case"youtube":t=h;break;case"brightcove":t=m}return new t({model:e})}(this.model.getCurrentVideo()),this.player.$el.insertAfter(this.$(".hybrid-player__header")),this.player.render()},insertPlayerAndAutoplay:function(){this.insertPlayer(),this.player.play()},remove:function(){this.player&&this.player.remove(),this.playlist&&this.playlist.remove(),s.View.prototype.remove.call(this)}});e.exports={Model:_,View:g}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div\n    class="hybrid-player-video__container"\n    style="background-image:url(<%= media.image.fullPath %>)"\n></div>\n<h3 class="hybrid-player-video__title">\n    <%= title %>\n</h3>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div\n    class="hybrid-player-video__container"\n    style="background-image:url(',escape((__stack.lineno=3,media.image.fullPath)),')"\n></div>\n<h3 class="hybrid-player-video__title">\n    ',escape((__stack.lineno=6,title)),"\n</h3>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="hybrid-player-video__container">\n    <div class="hybrid-player-video__player-instance">\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="hybrid-player-video__container">\n    <div class="hybrid-player-video__player-instance">\n    </div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="hybrid-player-playlist__container">\n    <ol class="hybrid-player-playlist__items">\n    <% _.each(items, function(item) { %>\n        <li class="hybrid-player-playlist__item">\n            <div\n                class="hybrid-player-playlist__item-thumbnail-image"\n                style="background-image: url(<%= item.media.image.fullPath %>)"\n            ></div>\n            <%= item.title %>\n        </li>\n    <% }); %>\n    </ol>\n</div>\n<button disabled class="hybrid-player-playlist__nav hybrid-player-playlist__nav--previous">Previous</button>\n<button class="hybrid-player-playlist__nav hybrid-player-playlist__nav--next">Next</button>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="hybrid-player-playlist__container">\n    <ol class="hybrid-player-playlist__items">\n    '),__stack.lineno=3,_.each(items,(function(e){buf.push('\n        <li class="hybrid-player-playlist__item">\n            <div\n                class="hybrid-player-playlist__item-thumbnail-image"\n                style="background-image: url(',escape((__stack.lineno=7,e.media.image.fullPath)),')"\n            ></div>\n            ',escape((__stack.lineno=9,e.title)),"\n        </li>\n    "),__stack.lineno=11})),buf.push('\n    </ol>\n</div>\n<button disabled class="hybrid-player-playlist__nav hybrid-player-playlist__nav--previous">Previous</button>\n<button class="hybrid-player-playlist__nav hybrid-player-playlist__nav--next">Next</button>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="hybrid-player__header">\n    <h2 class="flap-headline"><%= title %></h2>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="hybrid-player__header">\n    <h2 class="flap-headline">',escape((__stack.lineno=2,title)),"</h2>\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="video-embed video-embed--brightcove">\n    <div class="header">\n        <div class="header__verb">\n            Watch\n        </div>\n        <div class="header__title">\n            <%= title %>\n        </div>\n    </div>\n    <div style="position: relative; display: block; max-width: 100%;">\n        <div style="padding-top: 56.25%;">\n            <video controls\n                playsinline            \n                data-account="<%= account %>"\n                data-player="<%= player %>"\n                data-embed="default"\n                data-video-id="<%= videoId %>"\n                data-application-id="<%= applicationId %>"\n                class="video-js"\n                style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;">\n            </video>\n        </div>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="video-embed video-embed--brightcove">\n    <div class="header">\n        <div class="header__verb">\n            Watch\n        </div>\n        <div class="header__title">\n            ',escape((__stack.lineno=7,title)),'\n        </div>\n    </div>\n    <div style="position: relative; display: block; max-width: 100%;">\n        <div style="padding-top: 56.25%;">\n            <video controls\n                playsinline            \n                data-account="',escape((__stack.lineno=14,account)),'"\n                data-player="',escape((__stack.lineno=15,player)),'"\n                data-embed="default"\n                data-video-id="',escape((__stack.lineno=17,videoId)),'"\n                data-application-id="',escape((__stack.lineno=18,applicationId)),'"\n                class="video-js"\n                style="position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;">\n            </video>\n        </div>\n    </div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t){const a=[{placements:{article:[61945,36521],article_long:[61958,36521],gallery:[61958,36521]},threshholds:{article:{0:{0:[61945,36521],500:[61958,36521]},1024:{0:[61945,36521],800:[61958,36521]}}}}];e.exports=a.length<=1?a[0]:a},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div id="zergnet-widget-<%= widgetId %>" class="zergnet-widget zergnet-widget-<%= widgetId %>" data-zerg-widget-id="<%= widgetId %>"></div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div id="zergnet-widget-',escape((__stack.lineno=1,widgetId)),'" class="zergnet-widget zergnet-widget-',escape((__stack.lineno=1,widgetId)),'" data-zerg-widget-id="',escape((__stack.lineno=1,widgetId)),'"></div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(105);e.exports=n.embeds.getBaseModel().extend({makeImagecacheSrc:function(e){var t="files",a={portrait:"320x416_gallery",square:"320x320",default:"480x270"};return this.makeImageSrc(e.path).replace(t,[t,"styles",a[e.orientation]||a.default,"public"].join("/"))}})},function(e,t,a){var n=a(10),i=a(4),s=a(38),r=a(20),l=a(2),o=a(35);e.exports={nextPageLoading:!1,$artistSection:null,$chartHistoryDropdown:null,$window:null,chartHistoryDropdownVisible:!1,initialize:function(){var e=this,t=i.debounce(i.bind((function(){this.render()}),this),100);e.setDropdownVisibility=i.bind(e.setDropdownVisibility,e),e.$window=n(window),e.$window.resize(t),e.$(".ads-container__right-col .ad-holder").railSlider({context:".ads-container__right-col",headerOffset:function(){return n("#site-header").outerHeight(!0)+24}}),e.$artistSection=n(".artist-section"),e.$chartHistoryDropdown=n(".chart-history-dropdown"),e.$chartHistoryDropdown&&n(document).click((function(t){var a=n(t.target);!e.chartHistoryDropdownVisible||a.closest(".chart-history-dropdown").length&&!a.closest(".chart-history-dropdown__header__close-button").length?!e.chartHistoryDropdownVisible&&a.closest(".chart-history-dropdown-button").length&&(e.setDropdownVisibility(!0),e.fireGAEvent("dropdown expand","Chart History")):(e.setDropdownVisibility(!1),e.fireGAEvent("dropdown close","Chart History"))})),n(".artist-page--feed .artist-section__more-link").click(i.partial(e.nextPageHandler,i,e)),e.setupTrackingEvents=i.bind(e.setupTrackingEvents,e),e.setupTrackingEvents(e)},setupTrackingEvents:function(e){[{selector:".artist-section--videos .artist-section__header",action:"section header click",label:"Videos"},{selector:".artist-section--chart-history .artist-section__header",action:"section header click",label:"Chart History"},{selector:".artist-section--news .artist-section__header",action:"section header click",label:"News"},{selector:".artist-section--videos .artist-section__more",action:"section footer click",label:"Videos"},{selector:".artist-section--chart-history .artist-section__more",action:"section footer click",label:"Chart History"},{selector:".artist-section--news .artist-section__more",action:"section footer click",label:"News"},{selector:'a[title~="Twitter"], a[title~="Facebook"]',action:"share - navigation",label:"",useAttribute:"title"},{selector:".chart-history-dropdown__list__chart a",action:"dropdown click",label:"Chart History - ",useAttribute:"data-event-label"},{selector:".artist-section--chart-history__title-list__title__play-button",action:"play preview - cell",label:"",useAttribute:"data-event-label"},{selector:".artist-section--chart-history__title-list__title__chevron-and-index-holder a",action:"expand song",label:"",useAttribute:"data-event-label"},{selector:".artist-section--chart-history__title-list__title__text--peak-rank .date",action:"historical chart link - cell",label:""}].forEach((function(t){n(t.selector).click((function(a){var s=t.useAttribute||"";i.bind(e.fireGAEvent,n(a.currentTarget))(t.action,t.label,s)}))}))},fireGAEvent:function(e,t,a){var n={category:"artist",action:e,label:t};return a&&(n.label=n.label+this.attr(a)),l.trigger("trackEvent",n),!1},setDropdownVisibility:function(e){this.chartHistoryDropdownVisible=e,this.$window.width()<1024&&(document.body.style.overflow=e?"hidden":"visible"),this.$chartHistoryDropdown.toggleClass("chart-history-dropdown--visible",this.chartHistoryDropdownVisible)},nextPageHandler:function(e,t){if(!t.nextPageLoading){var a=n(this);t.nextPageLoading=!0,e.preventDefault(),e.stopPropagation(),a.parent().addClass("artist-section__more--disabled"),a.text("Loading..."),n.get("/fe_data"+a.attr("href"),(function(e){var s=n(e),o=s.find(".dfp-ad");a.parent().hide(),n(".artist-section__more").before(s),t.render(),a.parent().parent().find(".pagination-waypoint:last").waypoint({handler:i.partial(t.waypointHandler,i,t),offset:"20%"}),l.trigger("adTemplatesInserted",o),r.refresh(i.pluck(o,"id")),t.nextPageLoading=!1,s.find(".artist-section__more-link").click(i.partial(t.nextPageHandler,i,t)),a.parent().remove()}))}},waypointHandler:function(e,t){var a="";"down"===e?a=this.element.getAttribute("data-this-page"):"up"===e&&(a=this.element.getAttribute("data-prev-page")),o.changeUrl(a,"artist-section",t.$artistSection)},render:function(){this.onRender()},onRender:function(){s.truncateWords(this.$(".artist-section h3"))}}},function(e,t,a){var n=a(4),i=a(7),s=i.View.extend(a(43)),r=window.PGM.brightcove.account_id,l=window.PGM.brightcove.default_player,o=i.Model.extend({constructor:function(){this.playlist=new i.Collection,i.Model.apply(this,arguments)},initialize:function(){this.on("change:currentIndex",this.setCurrentVideo),this.set({player:l,account:r})},toJSON:function(){var e=this.get("currentVideo").toJSON(),t=this.get("currentIndex")+1,a=this.playlist.at(t<this.playlist.length?t:0).toJSON();return n.extend(n.clone(this.attributes),{currentVideo:e,nextVideo:a})},setCurrentVideo:function(){this.set("currentVideo",this.playlist.at(this.get("currentIndex")))},nextVideo:function(){var e=this.get("currentIndex")+1;e===this.playlist.length&&(e=0),this.set("currentIndex",e)},previousVideo:function(){var e=this.get("currentIndex");0===e&&(e=this.playlist.length),this.set("currentIndex",e-1)},parse:function(e){return this.playlist.reset(e.playlist),{currentIndex:0,currentVideo:this.playlist.at(0)}}});e.exports={initialize:function(){var e=JSON.parse(this.$("script").text());this.model=new o({playlist:e},{parse:!0}),this.listenTo(this.model,"change",this.render)},template:a(288),events:{"click .large-video__button--previous":"previousVideo","click .large-video__button--next":"nextVideo"},render:function(){return this.playerView&&this.playerView.dispose(),this.$el.html(this.template(this.model.toJSON())),this.playerView=new s({el:this.el,model:this.model}),this.playerView.onRender(),this},nextVideo:function(){this.model.nextVideo()},previousVideo:function(){this.model.previousVideo()}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<% if( PGM.debug.getData(\'player\') ) { player = PGM.debug.getData(\'player\') } %>\n<div class="large-video__main">\n    <div class="large-video__player" data-videoID="<%= currentVideo.videoId %>">\n        <video\n            playsinline\n            data-account="<%= account %>"\n            data-player="<%= player %>"\n            data-embed="default"\n            data-video-id="<%= currentVideo.videoId %>"\n            data-application-id="Homepage Video Slider"\n            poster="<%= currentVideo.image_path %>"\n            class="video-js" controls>\n        </video>\n    </div>\n    <div class="large-video__next" data-videoID="<%= nextVideo.videoId %>">\n        <div class="large-video__next-background" style="background-image: url(<%= nextVideo.image_path %>)"></div>\n        <div class="large-video__next-body">\n            <div class="large-video__next-label">NEXT VIDEO</div>\n            <h3 class="large-video__next-title"><%- nextVideo.title %></h3>\n            <div class="large-video__buttons">\n                <button class="large-video__button--previous"></button>\n                <button class="large-video__button--next"></button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="large-video__body">\n    <h3 class="large-video__title"><%- currentVideo.title %></h3>\n    <p class="large-video__deck"><%- currentVideo.deck %></p>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push(""),__stack.lineno=1,PGM.debug.getData("player")&&(player=PGM.debug.getData("player")),buf.push('\n<div class="large-video__main">\n    <div class="large-video__player" data-videoID="',escape((__stack.lineno=3,currentVideo.videoId)),'">\n        <video\n            playsinline\n            data-account="',escape((__stack.lineno=6,account)),'"\n            data-player="',escape((__stack.lineno=7,player)),'"\n            data-embed="default"\n            data-video-id="',escape((__stack.lineno=9,currentVideo.videoId)),'"\n            data-application-id="Homepage Video Slider"\n            poster="',escape((__stack.lineno=11,currentVideo.image_path)),'"\n            class="video-js" controls>\n        </video>\n    </div>\n    <div class="large-video__next" data-videoID="',escape((__stack.lineno=15,nextVideo.videoId)),'">\n        <div class="large-video__next-background" style="background-image: url(',escape((__stack.lineno=16,nextVideo.image_path)),')"></div>\n        <div class="large-video__next-body">\n            <div class="large-video__next-label">NEXT VIDEO</div>\n            <h3 class="large-video__next-title">',(__stack.lineno=19,nextVideo.title),'</h3>\n            <div class="large-video__buttons">\n                <button class="large-video__button--previous"></button>\n                <button class="large-video__button--next"></button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="large-video__body">\n    <h3 class="large-video__title">',(__stack.lineno=29,currentVideo.title),'</h3>\n    <p class="large-video__deck">',(__stack.lineno=30,currentVideo.deck),"</p>\n</div>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(10),i=a(4),s=a(7),r=a(20),l=a(35),o=a(2),c=s.View.extend({events:{"click .artist-song__overlay-bg":"remove","click .artist-song__share-close":"remove","click .artist-song__share-button":"share"},template:a(290),render:function(){return this.$el.html(this.template()),this},share:function(e){var t=window.PGM.Social(),a=n(e.currentTarget).data("share-type");t[a]&&t[a](window.location.protocol+"//"+window.location.host+this.model.get("canonical"),this.model.get("title")),o.trigger("trackEvent",{category:"artist",action:"share - lightbox",label:a.charAt(0).toUpperCase()+a.slice(1)})}}),d=s.Model.extend({}),p=s.Collection.extend({model:d}),_=s.View.extend({tagName:"li",template:a(291),events:{"click .artist-song__tools-share":"onClickShare","click .peak-date-link":"onClickPeakDate"},initialize:function(){i.bindAll(this,"onClickShare")},onClickShare:function(){var e=new c({model:this.model}).render();n(window).width()<768?n("body").append(e.$el):this.$(".artist-song__tools").append(e.$el)},onClickPeakDate:function(){o.trigger("trackEvent",{category:"artist",action:"historical chart link - lightbox",label:""})},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.data(this.model.attributes),this}});e.exports={el:"body",slidesAdvanced:1,secondLap:!1,initialize:function(){i.bindAll(this,"onAfterSlideChange","onBeforeSlideChange","onSliderLoad","toggleSliderPrev","updateCounter"),this.$songHolder=this.$(".artist-section__song-holder > ul"),this.$xofy=this.$(".artist-section__xofy"),this.currentTitleId=window.current_title,this.chartTitleMap=window.chart_title_map,this.songs=new p(window.chart_titles);var e=this;n(".artist-section--song .artist-section__title-back").click((function(){var t=e.$xofy.find(".artist-section__xofy-current").text();o.trigger("trackEvent",{category:"artist",action:"close song",label:e.songs.at(t).attributes.title})}))},onAfterSlideChange:function(e,t,a){3===a&&!1===this.secondLap&&!0===this.sliderOptions.infiniteLoop?(this.sliderOptions=i.extend(this.sliderOptions,{infiniteLoop:!1,startSlide:a}),this.slider.reloadSlider()):a===this.songs.length-3&&!0!==this.sliderOptions.infiniteLoop&&(this.sliderOptions=i.extend(this.sliderOptions,{infiniteLoop:!0,startSlide:a}),this.slider.reloadSlider(this.sliderOptions));var n=t<a?"next":"prev";this.sliderOptions.infiniteLoop&&0===t&&a===this.songs.length-1&&(n="prev"),l.changeUrl(e.data("canonical"),"song",e,n),this.slidesAdvanced>0&&this.slidesAdvanced%3==0&&r.refresh(this.$(".dfp-ad")),this.slidesAdvanced++},onBeforeSlideChange:function(e,t,a){var n=t<a?"next song":"previous song";o.trigger("trackEvent",{category:"artist",action:n,label:this.songs.at(t).attributes.title}),0===a?!1===this.sliderOptions.infiniteLoop?this.toggleSliderPrev(!1):t===this.songs.length-1&&(this.secondLap=!0):this.toggleSliderPrev(!0),a===this.songs.length-1&&0===t&&(this.secondLap=!1),this.updateCounter(a+1)},onSliderLoad:function(e){this.$prevArrow=this.$(".bx-prev"),0===e&&this.toggleSliderPrev(!1),this.updateCounter(e+1),this.$('[data-toggle="visibility"]').css("visibility","visible")},render:function(){var e=this;this.songs.each((function(t){var a=new _({model:t});e.$songHolder.append(a.render().$el)}));var t=this.chartTitleMap[this.currentTitleId];return this.sliderOptions={speed:0,infiniteLoop:t>=this.songs.length-3,startSlide:t,onSliderLoad:this.onSliderLoad,onSlideBefore:this.onBeforeSlideChange,onSlideAfter:this.onAfterSlideChange,pager:!1,nextText:'<span class="artist-section__song-next">Next</span><span class="fa fa-angle-right"></span>',prevText:'<span class="fa fa-angle-left"></span><span class="artist-section__song-prev">Prev</span>'},this.slider=this.$songHolder.bxSlider(this.sliderOptions),this.onRender(),this},toggleSliderPrev:function(e){this.$prevArrow.toggleClass("disabled",!e)},updateCounter:function(e){this.$xofy.find(".artist-section__xofy-current").text(e)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artist-song__overlay-bg"></div>\n<div class="artist-song__share-overlay">\n    <div class="artist-song__share-header">\n        <span class="artist-song__share-header-title">Share this song</span> <span class="fa fa-times artist-song__share-close"></span>\n    </div>\n    <div class="artist-song__share-button-holder">\n        <div class="artist-song__share-button artist-song__share-button--fb" data-share-type="facebook">\n            <span class="fa fa-facebook"></span> Facebook\n        </div>\n        <div class="artist-song__share-button artist-song__share-button--tw"  data-share-type="twitter">\n            <span class="fa fa-twitter"></span> Twitter\n        </div>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artist-song__overlay-bg"></div>\n<div class="artist-song__share-overlay">\n    <div class="artist-song__share-header">\n        <span class="artist-song__share-header-title">Share this song</span> <span class="fa fa-times artist-song__share-close"></span>\n    </div>\n    <div class="artist-song__share-button-holder">\n        <div class="artist-song__share-button artist-song__share-button--fb" data-share-type="facebook">\n            <span class="fa fa-facebook"></span> Facebook\n        </div>\n        <div class="artist-song__share-button artist-song__share-button--tw"  data-share-type="twitter">\n            <span class="fa fa-twitter"></span> Twitter\n        </div>\n    </div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="artist-song">\n    <h3 class="artist-song__title">\n        <%= title %>\n    </h3>\n    <h4 class="artist-song__artist">\n        <%= artist_name %>\n    </h4>\n    <div class="artist-song__info-holder">\n        <table width="100%">\n            <tr>\n                <td>\n                    <div class="fa fa-calendar artist-song__info-icon"></div>\n                </td>\n                <td class="artist-song__peak" rowspan=2>\n                    <span class="artist-song__peak-bg <% if(peak_rank == 1) {%>artist-song__peak-bg--1<% } %>">\n                        <% if (peak_rank == 1 && peak_weeks !== 0) { %><span class="artist-song__peak-bg__peak-weeks"><%= peak_weeks %></span><% } %>\n                    </span>\n                    <span class="artist-song__peak-rank">\n                        <%= peak_rank %>\n                    </span>\n                </td>\n                <td>\n                    <div class="fa fa-clock-o artist-song__info-icon"></div>\n                </td>\n            </tr>\n            <tr>\n                <td class="artist-song__peak-date">\n                    <span class="artist-song__peak-date-month">\n                        <%= peak_date_formatted.month %>\n                    </span>\n                    <span class="artist-song__peak-date-day">\n                        <%= peak_date_formatted.day %>\n                    </span>\n                    <span class="artist-song__peak-date-year">\n                        <%= peak_date_formatted.year %>\n                    </span>\n                </td>\n                <td class="artist-song__time-on-chart">\n                    <%= weeks_on_chart %>\n                </td>\n            </tr>\n            <tr>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        <a href="<%= peak_date_link %>" class="peak-date-link">Peak Date</a>\n                    </div>\n                </td>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        Peak Position\n                    </div>\n                    <% if (peak_weeks !== 0) { %>\n                        <div class="artist-song__info-title--peak-weeks">\n                            <%= peak_weeks %> weeks at peak\n                        </div>\n                    <% } %>\n                </td>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        Weeks on Chart\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class="artist-song__tools">\n        <ul>\n            <li class="artist-song__tools-li artist-song__tools-share">\n                Share <span class="fa fa-share"></span>\n            </li>\n            \x3c!-- <li class="artist-song__tools-li artist-song__tools-video">\n                Watch <span class="fa fa-video-camera"></span>\n            </li> --\x3e\n            \x3c!--<li class="artist-song__tools-li artist-song__tools-audio js-spotify-preview disabled">--\x3e\n                \x3c!--Preview <span class="fa fa-play"></span>--\x3e\n                \x3c!--<div class="artist-song__preview">--\x3e\n                    \x3c!--<div class="artist-song__preview-branding js-spotify-spotifyUrl">--\x3e\n                        \x3c!--<span>Full Track</span> on <span class="fa fa-spotify"></span> Spotify--\x3e\n                    \x3c!--</div>--\x3e\n                    \x3c!--<div class="artist-song__preview-control js-spotify-preview">--\x3e\n                        \x3c!--Preview <span class="fa fa-pause"></span>--\x3e\n                    \x3c!--</div>--\x3e\n                \x3c!--</div>--\x3e\n            \x3c!--</li>--\x3e\n        </ul>\n    </div>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="artist-song">\n    <h3 class="artist-song__title">\n        ',escape((__stack.lineno=3,title)),'\n    </h3>\n    <h4 class="artist-song__artist">\n        ',escape((__stack.lineno=6,artist_name)),'\n    </h4>\n    <div class="artist-song__info-holder">\n        <table width="100%">\n            <tr>\n                <td>\n                    <div class="fa fa-calendar artist-song__info-icon"></div>\n                </td>\n                <td class="artist-song__peak" rowspan=2>\n                    <span class="artist-song__peak-bg '),__stack.lineno=15,1==peak_rank&&(buf.push("artist-song__peak-bg--1"),__stack.lineno=15),buf.push('">\n                        '),__stack.lineno=16,1==peak_rank&&0!==peak_weeks&&(buf.push('<span class="artist-song__peak-bg__peak-weeks">',escape((__stack.lineno=16,peak_weeks)),"</span>"),__stack.lineno=16),buf.push('\n                    </span>\n                    <span class="artist-song__peak-rank">\n                        ',escape((__stack.lineno=19,peak_rank)),'\n                    </span>\n                </td>\n                <td>\n                    <div class="fa fa-clock-o artist-song__info-icon"></div>\n                </td>\n            </tr>\n            <tr>\n                <td class="artist-song__peak-date">\n                    <span class="artist-song__peak-date-month">\n                        ',escape((__stack.lineno=29,peak_date_formatted.month)),'\n                    </span>\n                    <span class="artist-song__peak-date-day">\n                        ',escape((__stack.lineno=32,peak_date_formatted.day)),'\n                    </span>\n                    <span class="artist-song__peak-date-year">\n                        ',escape((__stack.lineno=35,peak_date_formatted.year)),'\n                    </span>\n                </td>\n                <td class="artist-song__time-on-chart">\n                    ',escape((__stack.lineno=39,weeks_on_chart)),'\n                </td>\n            </tr>\n            <tr>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        <a href="',escape((__stack.lineno=45,peak_date_link)),'" class="peak-date-link">Peak Date</a>\n                    </div>\n                </td>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        Peak Position\n                    </div>\n                    '),__stack.lineno=52,0!==peak_weeks&&(buf.push('\n                        <div class="artist-song__info-title--peak-weeks">\n                            ',escape((__stack.lineno=54,peak_weeks))," weeks at peak\n                        </div>\n                    "),__stack.lineno=56),buf.push('\n                </td>\n                <td class="aligned-top">\n                    <div class="artist-song__info-title">\n                        Weeks on Chart\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class="artist-song__tools">\n        <ul>\n            <li class="artist-song__tools-li artist-song__tools-share">\n                Share <span class="fa fa-share"></span>\n            </li>\n            \x3c!-- <li class="artist-song__tools-li artist-song__tools-video">\n                Watch <span class="fa fa-video-camera"></span>\n            </li> --\x3e\n            \x3c!--<li class="artist-song__tools-li artist-song__tools-audio js-spotify-preview disabled">--\x3e\n                \x3c!--Preview <span class="fa fa-play"></span>--\x3e\n                \x3c!--<div class="artist-song__preview">--\x3e\n                    \x3c!--<div class="artist-song__preview-branding js-spotify-spotifyUrl">--\x3e\n                        \x3c!--<span>Full Track</span> on <span class="fa fa-spotify"></span> Spotify--\x3e\n                    \x3c!--</div>--\x3e\n                    \x3c!--<div class="artist-song__preview-control js-spotify-preview">--\x3e\n                        \x3c!--Preview <span class="fa fa-pause"></span>--\x3e\n                    \x3c!--</div>--\x3e\n                \x3c!--</div>--\x3e\n            \x3c!--</li>--\x3e\n        </ul>\n    </div>\n</div>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(4),s=a(19),r=a(81),l=a(293),o=a(2),c=function(){n(".chart-table__row").not(".chart-table__row--heading").each((function(){var e=n(this).find(".chart-table__locked-column").height();n(this).height(e-1)}))},d=function(){var e=n(".chart-piano-overlay__attachment-point");if("block"===e.css("display")){var t=n(".chart-table").offset().top;e.css("top",t+90+"px"),n(".chart-table__row:gt(3)").hide()}};e.exports={events:{"click .chart-search-results__pagination-link":"loadNewPage","click .chart-search-results__pagination-list-link":"loadNewPage","click .chart-search-results__sort":"sort"},loadNewPage:function(e){var t=n(e.currentTarget);if(t.hasClass("chart-search-results__pagination-list-link--current"))return!1;var a=sessionStorage.getItem("sort");this.performSearch(t.data("page-num"),a)},sort:function(e){var t=n(e.currentTarget).data("field"),a="asc",i=sessionStorage.getItem("sort");if(i){var s=i.split(":");s[0]===t&&(a="asc"===s[1]?"desc":"asc")}this.performSearch(0,t+":"+a)},performSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this,i=a.$("#chartSearchResults").data("search-fields");if(n("#resultTable tr:not(:first-child)").hide(),n(".chart-search-results__pagination").hide(),a.$(".chart-search-results__loader").show(),void 0===e&&(e=0),a.$("#chartSearchResults").data("sort")&&null===t&&(t=a.$("#chartSearchResults").data("sort")),t&&(i.sort=t,sessionStorage.sort=t),i.chart_date&&void 0===i.chart_date.date){var r=s(i.chart_date),o=r.clone().subtract(4,"days"),d=r.clone().add(4,"days");i.chart_date={date:{0:o.format("YYYY-MM-DD"),1:d.format("YYYY-MM-DD")}}}i.url=document.location.href,n.ajax({method:"GET",url:"/fe-ajax/charts/search?page="+e,data:i}).fail((function(){alert("There was an error")})).done((function(t){n(".chart-table__content").hide(),a.$(".chart-search-results__header-total-value").html(t.total_hits);var s=new l.Model({searchResults:t.results,currentPage:e,totalHits:t.total_hits,hostUrl:document.location.hostname,sort:i.sort,mode:"ajax"}),r=new l.View({model:s,el:a.$(".chart-table__inner-wrapper")});a.$(".chart-search-results__loader").hide(),r.render(),c()}))},adjustSearchFields:function(){var e=this.$(".chart-search-results__header");if(e.length&&e.width()<=425&&!e.data("fitty-ran")){var t=e.find(".chart-search-results__header-fields");r(t[0],{minSize:13,maxSize:21}),e.data("fitty-ran",!0),t.css("visibility","visible")}},initialize:function(){var e=this;sessionStorage.removeItem("sort"),this.$(".datepicker").datepicker({show:function(){n(this).blur()}}),this.$(".chart_search__chart-select").on("change",(function(){n(this).toggleClass("chart_search__chart-select--selected",""!==n(this).val())})),this.adjustSearchFields();var t=this.$("#chartSearchResults");t.length&&this.performSearch(t.data("current-page")),n(window).on("resize",i.debounce((function(){e.adjustSearchFields(),c()}),300)),o.on("ads:slotRenderEnded",d)}}},function(e,t,a){var n=a(7),i=n.View.extend({template:a(294),render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.data(this.model.attributes),this}}),s=n.Model.extend({defaults:{searchResults:[],currentPage:0,totalHits:0}});e.exports={View:i,Model:s}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="chart-table__inner">\n    <div class="chart-table__content">\n        <div class="chart-table__heading-overlay"></div>\n        <div class="chart-table__horizontal-fade"></div>\n        <table id="resultTable">\n            <tr class="chart-table__row chart-table__row--heading">\n                <th class="chart-table__locked-column">\n                    <div class="chart-table__locked-column--inner">\n                        <div class="chart-table__locked-column-content chart-search-results__sort\n                        <% if (sort === \'chart_name:asc\' || sort === \'chart_name:desc\') { %>\n                        chart-search-results__sort--active\n                        <% } %>" data-field="chart_name">\n                            Chart\n                            <% if (sort === \'chart_name:asc\') { %>\n                                <i class="fa fa-chevron-up"></i>\n                            <% } else if (sort === \'chart_name:desc\') { %>\n                                <i class="fa fa-chevron-down"></i>\n                            <% } %>\n                        </div>\n                    </div>\n                </th>\n\n                <td class="chart-table__cell--first-column chart-search-results__artist chart-search-results__sort\n                <% if (sort === \'artist:asc\' || sort === \'artist:desc\') { %>\n                    chart-search-results__sort--active\n                <% } %>" data-field="artist">\n                    Artists\n                    <% if (sort === \'artist:asc\') { %>\n                        <i class="fa fa-chevron-up"></i>\n                    <% } else if (sort === \'artist:desc\') { %>\n                        <i class="fa fa-chevron-down"></i>\n                    <% } %>\n                </td>\n                <td class="chart-table__cell chart-search-results__title chart-search-results__sort\n                    <% if (sort === \'title:asc\' || sort === \'title:desc\') { %>\n                        chart-search-results__sort--active\n                        <% } %>" data-field="title">\n                    Title\n                    <% if (sort === \'title:asc\') { %>\n                        <i class="fa fa-chevron-up"></i>\n                    <% } else if (sort === \'title:desc\') { %>\n                        <i class="fa fa-chevron-down"></i>\n                    <% } %>\n                </td>\n                <td class="chart-table__cell chart-table__cell--center chart-search-results__date chart-search-results__sort\n                    <% if (sort === \'chart_date:asc\' || sort === \'chart_date:desc\') { %>\n                        chart-search-results__sort--active\n                        <% } %>" data-field="chart_date">\n                    Date (Peak)\n                    <% if (sort === \'chart_date:asc\') { %>\n                        <i class="fa fa-chevron-up"></i>\n                    <% } else if (sort === \'chart_date:desc\') { %>\n                        <i class="fa fa-chevron-down"></i>\n                    <% } %>\n                </td>\n                <td class="chart-table__cell chart-table__cell--center">Rank (Peak)</td>\n                <td class="chart-table__cell chart-table__cell--center">Weeks</td>\n                <td class="chart-table__cell--final-column chart-search-results__sort\n                    <% if (sort === \'label:asc\' || sort === \'label:desc\') { %>\n                        chart-search-results__sort--active\n                        <% } %>" data-field="label">\n                    Label\n                    <% if (sort === \'label:asc\') { %>\n                        <i class="fa fa-chevron-up"></i>\n                    <% } else if (sort === \'label:desc\') { %>\n                        <i class="fa fa-chevron-down"></i>\n                    <% } %>\n                </td>\n            </tr>\n            <% for(var i in searchResults) { %>\n                <% var result = searchResults[i] %>\n                <tr class="chart-table__row">\n                    <th class="chart-table__locked-column">\n                        <div class="chart-table__locked-column--inner">\n                            <div class="chart-table__locked-column-content">\n                                <a href="<%= \'https://\' + hostUrl + result.chartUrl %>">\n                                    <%= result.formatName %>\n                                </a>\n                            </div>\n                        </div>\n                    </th>\n                    <td class="chart-table__cell chart-table__cell--first-column">\n                        <a href="<%= \'https://\' + hostUrl + result.artistUrl %>">\n                            <%= result.artistname %></a></td>\n                    <td class="chart-table__cell">\n                        <a href="<%= \'https://\' + hostUrl + result.titleUrl %>">\n                            <%= result.charttitle %></a></td>\n                    <td class="chart-table__cell chart-table__cell--center">\n                        <a href="<%= \'https://\' + hostUrl + result.chartUrl %>">\n                        <%= result.date %></a><br />(<%= result.peakdate %>)</td>\n                    <td class="chart-table__cell chart-table__cell--center"><%= result.rank %> (<%= result.peakpos %>)</td>\n                    <td class="chart-table__cell chart-table__cell--center"><%= result.chartweeks %></td>\n                    <td class="chart-table__cell chart-table__cell--final-column"><%= result.label %></td>\n                </tr>\n            <% } %>\n        </table>\n    </div>\n</div>\n<div class="chart-search-results__pagination">\n    <%\n        var max = Math.ceil(totalHits / 25) - 1;\n        if (max > 399) {\n            max = 399;\n        }\n    %>\n    <% if(currentPage > 0) { %>\n        <div class="chart-search-results__pagination-link chart-search-results__pagination-link--previous" data-page-num="<%= currentPage-1 %>">\n            <span class="fa fa-angle-left"></span>\n        </div>\n    <% } %>\n    <div class="chart-search-results__pagination-count">\n        <%= currentPage + 1 %> / <%= max + 1 %>\n    </div>\n    <div class="chart-search-results__pagination-list">\n        <div class="chart-search-results__pagination-list-link <%= currentPage == 0 ? \'chart-search-results__pagination-list-link--current\' : \'\' %>" data-page-num="0">1</div>\n        <% if(currentPage - 3 > 0) { %>\n            <div class="chart-search-results__pagination-list-ellipsis">&hellip;</div>\n        <% } %>\n        <% for(var i = currentPage - 2; i <= currentPage + 2; i++) { %>\n            <% if (i > 0 && i < max) { %>\n                <div class="chart-search-results__pagination-list-link <%= i == currentPage ? \'chart-search-results__pagination-list-link--current\' : \'\' %>" data-page-num="<%= i %>"><%= i + 1 %></div>\n            <% } %>\n        <% } %>\n        <% if(currentPage + 3 < max) { %>\n            <div class="chart-search-results__pagination-list-ellipsis">&hellip;</div>\n        <% } %>\n        <% if (max > 0) { %>\n            <div class="chart-search-results__pagination-list-link <%= currentPage == max ? \'chart-search-results__pagination-list-link--current\' : \'\' %>" data-page-num="<%= max %>"><%= max + 1 %></div>\n        <% } %>\n    </div>\n    <% if (currentPage < max) { %>\n        <div class="chart-search-results__pagination-link chart-search-results__pagination-link--next" data-page-num="<%= currentPage+1 %>">\n            <span class="fa fa-angle-right"></span>\n        </div>\n    <% } %>\n</div>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})!function(){for(var e in buf.push('<div class="chart-table__inner">\n    <div class="chart-table__content">\n        <div class="chart-table__heading-overlay"></div>\n        <div class="chart-table__horizontal-fade"></div>\n        <table id="resultTable">\n            <tr class="chart-table__row chart-table__row--heading">\n                <th class="chart-table__locked-column">\n                    <div class="chart-table__locked-column--inner">\n                        <div class="chart-table__locked-column-content chart-search-results__sort\n                        '),__stack.lineno=10,"chart_name:asc"!==sort&&"chart_name:desc"!==sort||(buf.push("\n                        chart-search-results__sort--active\n                        "),__stack.lineno=12),buf.push('" data-field="chart_name">\n                            Chart\n                            '),__stack.lineno=14,"chart_name:asc"===sort?(buf.push('\n                                <i class="fa fa-chevron-up"></i>\n                            '),__stack.lineno=16):"chart_name:desc"===sort&&(buf.push('\n                                <i class="fa fa-chevron-down"></i>\n                            '),__stack.lineno=18),buf.push('\n                        </div>\n                    </div>\n                </th>\n\n                <td class="chart-table__cell--first-column chart-search-results__artist chart-search-results__sort\n                '),__stack.lineno=24,"artist:asc"!==sort&&"artist:desc"!==sort||(buf.push("\n                    chart-search-results__sort--active\n                "),__stack.lineno=26),buf.push('" data-field="artist">\n                    Artists\n                    '),__stack.lineno=28,"artist:asc"===sort?(buf.push('\n                        <i class="fa fa-chevron-up"></i>\n                    '),__stack.lineno=30):"artist:desc"===sort&&(buf.push('\n                        <i class="fa fa-chevron-down"></i>\n                    '),__stack.lineno=32),buf.push('\n                </td>\n                <td class="chart-table__cell chart-search-results__title chart-search-results__sort\n                    '),__stack.lineno=35,"title:asc"!==sort&&"title:desc"!==sort||(buf.push("\n                        chart-search-results__sort--active\n                        "),__stack.lineno=37),buf.push('" data-field="title">\n                    Title\n                    '),__stack.lineno=39,"title:asc"===sort?(buf.push('\n                        <i class="fa fa-chevron-up"></i>\n                    '),__stack.lineno=41):"title:desc"===sort&&(buf.push('\n                        <i class="fa fa-chevron-down"></i>\n                    '),__stack.lineno=43),buf.push('\n                </td>\n                <td class="chart-table__cell chart-table__cell--center chart-search-results__date chart-search-results__sort\n                    '),__stack.lineno=46,"chart_date:asc"!==sort&&"chart_date:desc"!==sort||(buf.push("\n                        chart-search-results__sort--active\n                        "),__stack.lineno=48),buf.push('" data-field="chart_date">\n                    Date (Peak)\n                    '),__stack.lineno=50,"chart_date:asc"===sort?(buf.push('\n                        <i class="fa fa-chevron-up"></i>\n                    '),__stack.lineno=52):"chart_date:desc"===sort&&(buf.push('\n                        <i class="fa fa-chevron-down"></i>\n                    '),__stack.lineno=54),buf.push('\n                </td>\n                <td class="chart-table__cell chart-table__cell--center">Rank (Peak)</td>\n                <td class="chart-table__cell chart-table__cell--center">Weeks</td>\n                <td class="chart-table__cell--final-column chart-search-results__sort\n                    '),__stack.lineno=59,"label:asc"!==sort&&"label:desc"!==sort||(buf.push("\n                        chart-search-results__sort--active\n                        "),__stack.lineno=61),buf.push('" data-field="label">\n                    Label\n                    '),__stack.lineno=63,"label:asc"===sort?(buf.push('\n                        <i class="fa fa-chevron-up"></i>\n                    '),__stack.lineno=65):"label:desc"===sort&&(buf.push('\n                        <i class="fa fa-chevron-down"></i>\n                    '),__stack.lineno=67),buf.push("\n                </td>\n            </tr>\n            "),__stack.lineno=70,searchResults){buf.push("\n                "),__stack.lineno=71;var t=searchResults[e];buf.push('\n                <tr class="chart-table__row">\n                    <th class="chart-table__locked-column">\n                        <div class="chart-table__locked-column--inner">\n                            <div class="chart-table__locked-column-content">\n                                <a href="',escape((__stack.lineno=76,"https://"+hostUrl+t.chartUrl)),'">\n                                    ',escape((__stack.lineno=77,t.formatName)),'\n                                </a>\n                            </div>\n                        </div>\n                    </th>\n                    <td class="chart-table__cell chart-table__cell--first-column">\n                        <a href="',escape((__stack.lineno=83,"https://"+hostUrl+t.artistUrl)),'">\n                            ',escape((__stack.lineno=84,t.artistname)),'</a></td>\n                    <td class="chart-table__cell">\n                        <a href="',escape((__stack.lineno=86,"https://"+hostUrl+t.titleUrl)),'">\n                            ',escape((__stack.lineno=87,t.charttitle)),'</a></td>\n                    <td class="chart-table__cell chart-table__cell--center">\n                        <a href="',escape((__stack.lineno=89,"https://"+hostUrl+t.chartUrl)),'">\n                        ',escape((__stack.lineno=90,t.date)),"</a><br />(",escape((__stack.lineno=90,t.peakdate)),')</td>\n                    <td class="chart-table__cell chart-table__cell--center">',escape((__stack.lineno=91,t.rank))," (",escape((__stack.lineno=91,t.peakpos)),')</td>\n                    <td class="chart-table__cell chart-table__cell--center">',escape((__stack.lineno=92,t.chartweeks)),'</td>\n                    <td class="chart-table__cell chart-table__cell--final-column">',escape((__stack.lineno=93,t.label)),"</td>\n                </tr>\n            "),__stack.lineno=95}buf.push('\n        </table>\n    </div>\n</div>\n<div class="chart-search-results__pagination">\n    '),__stack.lineno=100;var a=Math.ceil(totalHits/25)-1;a>399&&(a=399),buf.push("\n    "),__stack.lineno=106,currentPage>0&&(buf.push('\n        <div class="chart-search-results__pagination-link chart-search-results__pagination-link--previous" data-page-num="',escape((__stack.lineno=107,currentPage-1)),'">\n            <span class="fa fa-angle-left"></span>\n        </div>\n    '),__stack.lineno=110),buf.push('\n    <div class="chart-search-results__pagination-count">\n        ',escape((__stack.lineno=112,currentPage+1))," / ",escape((__stack.lineno=112,a+1)),'\n    </div>\n    <div class="chart-search-results__pagination-list">\n        <div class="chart-search-results__pagination-list-link ',escape((__stack.lineno=115,0==currentPage?"chart-search-results__pagination-list-link--current":"")),'" data-page-num="0">1</div>\n        '),__stack.lineno=116,currentPage-3>0&&(buf.push('\n            <div class="chart-search-results__pagination-list-ellipsis">&hellip;</div>\n        '),__stack.lineno=118),buf.push("\n        "),__stack.lineno=119;for(e=currentPage-2;e<=currentPage+2;e++)buf.push("\n            "),__stack.lineno=120,e>0&&e<a&&(buf.push('\n                <div class="chart-search-results__pagination-list-link ',escape((__stack.lineno=121,e==currentPage?"chart-search-results__pagination-list-link--current":"")),'" data-page-num="',escape((__stack.lineno=121,e)),'">',escape((__stack.lineno=121,e+1)),"</div>\n            "),__stack.lineno=122),buf.push("\n        "),__stack.lineno=123;buf.push("\n        "),__stack.lineno=124,currentPage+3<a&&(buf.push('\n            <div class="chart-search-results__pagination-list-ellipsis">&hellip;</div>\n        '),__stack.lineno=126),buf.push("\n        "),__stack.lineno=127,a>0&&(buf.push('\n            <div class="chart-search-results__pagination-list-link ',escape((__stack.lineno=128,currentPage==a?"chart-search-results__pagination-list-link--current":"")),'" data-page-num="',escape((__stack.lineno=128,a)),'">',escape((__stack.lineno=128,a+1)),"</div>\n        "),__stack.lineno=129),buf.push("\n    </div>\n    "),__stack.lineno=131,currentPage<a&&(buf.push('\n        <div class="chart-search-results__pagination-link chart-search-results__pagination-link--next" data-page-num="',escape((__stack.lineno=132,currentPage+1)),'">\n            <span class="fa fa-angle-right"></span>\n        </div>\n    '),__stack.lineno=135),buf.push("\n</div>\n")}();return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(4),i=a(116),s=i.Model||{},r=n.extend({},s,{parse:function(e){return(e=s.parse?s.parse(e):e).player=window.PGM.debug.getData("player")||window.PGM.brightcove.default_player,e}});e.exports={Model:r,View:i.View}},function(e,t,a){var n=a(4),i=a(114),s=a(297),r=a(115),l=i.View||{},o=n.extend({},l,{initialize:function(){$("body").hasClass("article-page--category")?this.template=s:this.template=r}});e.exports={Model:i.Model,View:o}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<figure class="<% if(typeof size !== "undefined") { %>mainembed mainembed-<%- size %> <% if(typeof alignment !== "undefined") { %>align-<%- alignment %><% } %><% } %>">\n    <img class="embedded-image__image <% if (srcset) { %>embedded-image__image--expandable<% } %>"\n        <% if (altText) { %>alt="<%= altText %>"<% }%>\n        src="<%= path %>"\n        <% if (srcset) { %>\n            srcset="<%= srcset.join(\', \') %>">\n        <% } %>\n    <% if (caption || credit) { %>\n    <figcaption class="embedded-image__details-text">\n        <% if (caption) { %>\n            <div class="media__caption"><%- caption %></div>\n        <% } %>\n        <% if (credit) { %>\n            <div class="media__credit"><%- credit %></div>\n        <% } %>\n    </figcaption>\n    <% } %>\n</figure>\n<% if (srcset) { %><div class="expanded-image__target" data-primary-url="<%= path %>" data-srcset="<%= srcset.join(\', \') %>" data-alt-text="<%= altText ? altText : \'\' %>"></div><% } %>\n',filename:"."};function rethrow(e,t,a,n){var i=t.split("\n"),s=Math.max(n-3,0),r=Math.min(i.length,n+3),l=i.slice(s,r).map((function(e,t){var a=t+s+1;return(a==n?" >> ":"    ")+a+"| "+e})).join("\n");throw e.path=a,e.message=(a||"ejs")+":"+n+"\n"+l+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<figure class="'),__stack.lineno=1,"undefined"!=typeof size&&(buf.push("mainembed mainembed-",(__stack.lineno=1,size)," "),__stack.lineno=1,"undefined"!=typeof alignment&&(buf.push("align-",(__stack.lineno=1,alignment),""),__stack.lineno=1),buf.push(""),__stack.lineno=1),buf.push('">\n    <img class="embedded-image__image '),__stack.lineno=2,srcset&&(buf.push("embedded-image__image--expandable"),__stack.lineno=2),buf.push('"\n        '),__stack.lineno=3,altText&&(buf.push('alt="',escape((__stack.lineno=3,altText)),'"'),__stack.lineno=3),buf.push('\n        src="',escape((__stack.lineno=4,path)),'"\n        '),__stack.lineno=5,srcset&&(buf.push('\n            srcset="',escape((__stack.lineno=6,srcset.join(", "))),'">\n        '),__stack.lineno=7),buf.push("\n    "),__stack.lineno=8,(caption||credit)&&(buf.push('\n    <figcaption class="embedded-image__details-text">\n        '),__stack.lineno=10,caption&&(buf.push('\n            <div class="media__caption">',(__stack.lineno=11,caption),"</div>\n        "),__stack.lineno=12),buf.push("\n        "),__stack.lineno=13,credit&&(buf.push('\n            <div class="media__credit">',(__stack.lineno=14,credit),"</div>\n        "),__stack.lineno=15),buf.push("\n    </figcaption>\n    "),__stack.lineno=17),buf.push("\n</figure>\n"),__stack.lineno=19,srcset&&(buf.push('<div class="expanded-image__target" data-primary-url="',escape((__stack.lineno=19,path)),'" data-srcset="',escape((__stack.lineno=19,srcset.join(", "))),'" data-alt-text="',escape((__stack.lineno=19,altText||"")),'"></div>'),__stack.lineno=19),buf.push("\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,a){var n=a(3),i=a(4);e.exports={events:{"click .fa-print":"printTable"},getNonHeadingRows:function(){return n(".chart-table__row")},adjustRowSizes:function(){n(window).width()<=480&&this.getNonHeadingRows().each((function(){var e=n(this).find(".chart-table__cell").first().height()+27;n(this).find(".chart-table__locked-column-content").not(".chart-table__locked-column-header").first().css("height",e+"px").css("padding-top",e/2-5+"px")}))},printTable:function(){var e=document.getElementById("printTable");newWin=window.open(""),newWin.document.write(e.outerHTML),newWin.print(),newWin.close()},initialize:function(){var e=this;this.adjustRowSizes(),n(window).on("resize",i.debounce((function(){e.adjustRowSizes()}),300))}}},function(e,t,a){var n=a(2),i=a(28);e.exports={initialize:function(){var e=this.$el.find(".article__body").children("p");if(window.PGM.ads.data.slots.longform_t2){var t=$(i({slot:window.PGM.ads.data.slots.longform_t2,paywallDefer:window.PGM.ads.enableDeferredAds||!1}));e.eq(Math.floor(e.length/2)).after(t),n.trigger("adTemplatesInserted",t)}}}},function(e,t,a){var n=a(2);e.exports={initialize:function(){$(".insight-report-article__download-button").on("click",(function(){n.trigger("trackEvent",{category:"Insight",action:"Download"})})),$(".js-pgm-social-share").on("click",(function(){var e={category:"Insight",action:"Share",label:$(this).data("pgmShare")};n.trigger("trackEvent",e)})),$(".social-share__link--email").on("click",(function(){n.trigger("trackEvent",{category:"Insight",action:"Share",label:"mail"})}))}}}])]);
//# sourceMappingURL=home.bundle.js.map