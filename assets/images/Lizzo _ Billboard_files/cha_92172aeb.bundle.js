(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){var i=n(3),o=n(4),a=n(7),r=n(6)("events"),s=window.PGM&&window.PGM.events&&"function"==typeof window.PGM.events.get&&window.PGM.events.get()||[],c=o.extend({},a.Events,{trigger:function(){s.push(arguments)}});i(document).ready((function(){c.trigger=function(){r.apply(null,arguments),a.Events.trigger.apply(c,arguments)},r("sending initial events: ",s.length),s.forEach((function(e){c.trigger.apply(c,e)}))})),e.exports=c},,,,function(e,t,n){var i=n(3),o=n(4),a=n(38),r=window.PGM&&window.PGM.debug&&window.PGM.debug.initialCategories||{},s=window.PGM&&window.PGM.debug&&"function"==typeof window.PGM.debug.dump&&window.PGM.debug.dump()||[],c={};function l(e){return r.hasOwnProperty(e)}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return function(e){var t=o.partial(d,e);return t.isEnabled=o.partial(d.isEnabled,e),t.getData=o.partial(d.getData,e),t}(e);if(function(e){c.hasOwnProperty(e)||(c[e]=[]);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];c[e].push(n)}(e,n),l(e)&&(n=n.map((function(e){return"string"==typeof e?e.substr(0,100):e})),console.log.apply(console,["pgmdebug: "+e+":"].concat(n)),l("print"))){var s=a.convertToString(n);i('[data-category="'.concat(e,'"]')).append("<div>".concat(a.replaceTags(s),"</div>"))}}i.extend(d,{dump:function(){console.trace(),console.log(c)},enable:function(e,t){"string"!=typeof e||l(e)||(r[e]=t||null)},isEnabled:function(e){return l(e)},getData:function(e){return r[e]}}),s.forEach((function(e){d.apply(null,e)})),e.exports=d},,,,function(e,t,n){var i=n(3),o=window.PGM||{};window.jQuery=window.$=o.$=i,n(141),n(142),n(143),n(144),n(145),n(146),e.exports=i},,,,,,,,,,function(e,t,n){var i,o=n(3),a=n(4),r=n(2),s=n(6)("dfp"),c=n(205),l=n(206),d=n(207),u=n(212),p=n(213),f=n(214),h=n(77),m=n(217);function g(e){"function"==typeof window.jpUnloadUnits&&(s("unloading jetpack units"),window.jpUnloadUnits()),window.CLARITY.push({use:["ads"],run:function(t){t.refresh(e)}})}function v(e){window.CLARITY.push({use:["ads","header"],run:function(t,n){e.each((function(){if(!t.isProcessed(this)){t.processElement(this);var e=o(this);n.addHeaderSlot(e.attr("id"),e.data("adUnit"),e.data("sizes"),e.data("position"),e.data("sizeMapping"))}}))}})}function b(e,t,n){var o=p(e)(t);"up"===n?(clearTimeout(i),0===t.index()?(o=o.add(".leaderboard-wrapper .dfp-ad"),w(t,o,n)):i=setTimeout((function(){w(t,o,n)}),1e3)):w(t,o,n)}function w(e,t,n){"down"===n&&(d(e),v(t),g(a.pluck(t.filter(".dfp-ad"),"id")))}r.on("initialContentLoaded",(function(){window.CLARITY.push({use:["header","ads"],run:function(e,t){e.onFetchInitialBids((function(){t.autoDisplay()}),window.pbjs.bidderTimeout||null)}})})),r.on("contentDisplayed",b),r.on("urlChange:post",b),r.on("adTemplatesInserted",(function(e){window.PGM.ads.enableDeferredAds&&(e=e.filter(':not([data-paywall-defer="true"])')),v(e)})),r.on("ads:refresh",g),e.exports={processDeferredAds:function(){var e=o('.dfp-ad[data-paywall-defer="true"]');e.length&&(v(e),g(a.pluck(e.filter(".dfp-ad"),"id")))},setup:a.once((function(e){e=a.extend({bidders:m},e),f.registerBidder(e.bidders),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",c.slotRenderEnded),window.googletag.pubads().addEventListener("slotRenderEnded",c.videoTargetingReady)})),window.CLARITY.push({use:["jquery","ads"],run:function(e,t){var n=t.ads_by_id;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];h.add(i,o.options.position,o.options.sizeMapping)}e(document).on("clarity:create-ad",".dfp-ad",(function(){var n=e(this).attr("id"),i=t.getById(n);h.add(n,i.options.position,i.options.sizeMapping)}))}}),f.setup(),l("screen and (min-width: 767px) and (max-width: 1023px)")})),stickyLeaderboard:u,refresh:g}},function(e,t,n){(function(t){e.exports=t.PGM=n(140)}).call(this,n(37))},,function(e,t,n){n(162);var i=n(10),o=n(20),a=n(232),r=n(233),s=n(50),c=n(242);o.setup(),a.setBrandedContentSelector(r),a.init(),i(document).ready((function(){var e=i("body");s.setCategory(e.data("trackcategory")||"Unknown")})),c.init()},,,,,,,,,function(e,t,n){var i,o=n(209).detect(),a=n(62),r=function(e){i=e,a.updateCookie("_pgmCanAutoplay",e?1:0)};e.exports={updateAutoplayStatus:r};var s={desktop:{chrome:n(100),safari:n(211),ios:n(76)},mobile:{safari:n(76),ios:n(76),chrome:n(100)}},c=function(){return"ontouchstart"in document.documentElement?"mobile":"desktop"};e.exports.browser=o&&o.name,e.exports.device=c(),e.exports.canAutoplay=function(){return void 0===i||i},e.exports.track=function(){var e,t=(e=c(),s[e]&&s[e][o.name]?s[e][o.name]:null);if(t){var n=a.readCookie("_pgmCanAutoplay");n&&(i=Boolean(parseInt(n))),r(t.track(i))}}},function(e,t,n){var i=n(3),o=n(6)("lazyload"),a=n(88),r=function(e,t){return o("creating script "+e),t&&"function"==typeof t||(t=function(){}),window.PGM.blockScripts?new Promise((function(n){a.queueScript(e,(function(){t(),n()}))})):i.ajax({url:e,dataType:"script",success:t,cache:!0})},s=function(e){return o("creating script tag "+e),window.PGM.blockScripts?new Promise((function(t){a.queueScript(e,t)})):new Promise((function(t,n){var i=setTimeout((function(){o("Could not load script tag",e,"in",5,"seconds"),n(new Error("Could not load script"))}),5e3),a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.addEventListener("load",(function(){clearTimeout(i),t()}),!1),document.getElementsByTagName("head")[0].appendChild(a)}))},c=function(e){return e?e.replace("http://","//").replace("https://","//"):null};"function"==typeof window.PGM.createScript.dump&&(window.PGM.createScript.dump().forEach((function(e){r.apply(null,e)})),window.PGM.createScript=r),"function"==typeof window.PGM.createScriptTag.dump&&(window.PGM.createScriptTag.dump().forEach((function(e){s.apply(null,e)})),window.PGM.createScriptTag=s),"function"==typeof window.PGM.resolveOptAnon.dump&&(window.PGM.resolveOptAnon.dump().length>0?a.resolvePromise():window.PGM.resolveOptAnon=a.resolvePromise),e.exports={createScript:r,createScriptTag:s,createIframe:function(e){var t=c(e.data("src")),n=function(){e.attr("src",t),e.data("srcwas",t),e.data("src",null)};t&&(o("loading iframe "+t),window.PGM.blockScripts?a.queueIframe(e,n):n())},removeSrcProtocol:c}},,,,,function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}var a=n(3),r=n(4);e.exports={replaceTags:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,(function(e){return t[e]}))},convertToString:function e(t){return Array.isArray(t)?r.map(t,e):"object"===o(t)?"{"+r.map(t,(function(e,t){return t+": "+e})).join(", ")+"}":t},truncateWords:function(e){e.each((function(){var e=a(this),t=e.data("original-text");t?e.html(t):(t=e.text(),e.data("original-text",t));for(var n=parseFloat(e.css("line-height")),i=e.height(),o=e.outerHeight()-i;e[0].scrollHeight-o>i+n/4&&(t=t.substr(0,t.lastIndexOf(" ")),e.html(t+"&hellip;"),!(t.indexOf(" ")<0)););}))},getParameterByName:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},deepObjectExtend:function e(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]&&"object"===o(n[i])?e(t[i],n[i]):t[i]=n[i]);return t},isJson:function(e){try{JSON.parse(e)}catch(e){return!1}return!0}}},,,,,,,,,,,,function(e,t,n){var i=n(3),o=n(2),a=n(238),r=n(239),s=n(240),c=n(241),l=n(78);window._gaq=window._gaq||[],window.dataLayer=window.dataLayer||[],o.on("trackEvent",a.trackEvent),o.on("trackPageview",a.trackPageview),i("body").on("click","a[data-tracklabel], button[data-tracklabel], [data-tracklabel] a:not([data-tracklabel]), [data-tracklabel] button:not([data-tracklabel])",(function(){var e=i(this),t=e.attr("data-tracklabel")||e.parents("[data-tracklabel]").attr("data-tracklabel")||!1,n=e.attr("data-trackaction")||e.parents("[data-trackaction]").attr("data-trackaction")||!1,a={nonInteraction:!0};!1!==t&&(a.label=t),!1!==n&&(a.action=n),o.trigger("trackEvent",a)})),o.on("urlChange:post",s),o.on("urlChange:post",r),o.on("urlChange:post",c),o.on("trackComscore",r),o.on("asyncContentLoaded",(function(){o.trigger("trackEvent",{action:"Scroll",label:"New Content Loaded"})})),e.exports={setCategory:a.setCategory,setAction:a.setAction,getContentInfo:l}},,,,,,,,,,,,function(e,t,n){var i,o=n(88);e.exports={readCookie:function(e){if(i)return i[e];var t=document.cookie.split("; ");i={};for(var n=t.length-1;n>=0;n--){var o=t[n].split("=");i[o[0]]=o[1]}return i[e]},updateCookie:function(e,t){var n=function(){document.cookie=e+"="+t+"; path=/"};if(window.PGM.blockScripts){var i=o.getCookieCategory("INTERNAL::"+e);o.cookieConsentFunc(i,n)}else n()}}},,,,,,,,,,,,,,function(e,t){e.exports={track:function(){return!1}}},function(e,t){var n={},i={};e.exports={add:function(e,t,o){n[e]=t,i[e]=o},getSlotSizes:function(e){return i[e]||[]},getSlotTargeting:function(e){return{pos:[n[e]]}}}},function(e,t){e.exports=function(e){return{id:e.data("id"),canonical:e.data("canonical"),title:e.data("page-title"),authors:e.find(".js-authors-list").text().replace(/(^\s+|\s+$)/g,""),publishDate:e.find(".js-publish-date").data("pubdate-value"),analyticsCategory:e.data("analytics-category"),analyticsTags:e.data("analytics-tags"),chartbeatSection:e.data("chartbeatSection")}}},,,,,,,,,,function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}var a=n(152),r=n(3),s=n(4),c=n(6)("optanon"),l=!1,d=function(){},u=s.once((function(){return c("render opt anon"),new Promise((function(e){d=e}))})),p=function(e){if("string"!=typeof e)return null;var t=e.replace(/^\/\/|^.*?:(\/\/)?/,"");if(a&&"object"===o(a)||(a={}),a[t])return a[t];for(var n in a)if(a.hasOwnProperty(n)&&t.includes(n))return a[n];return null},f=function(e,t){var n=new RegExp(","+e+",");window.OptanonActiveGroups&&n.test(window.OptanonActiveGroups)&&"function"==typeof t&&t()};e.exports={queueScript:function(e,t){e&&u().then((function(){c("render script",e),c("category",p(e)),function(e,t){var n=window.OptanonWrapper?window.OptanonWrapper:function(){l=!0},i=p(e);l?f(i,(function(){r.ajax({url:e,dataType:"script",success:t,cache:!0})})):window.OptanonWrapper=function(){l=!0,n(),window.Optanon.InsertScript(e,"head",t,null,i)}}(e,t)}))},queueIframe:function(e,t){u().then((function(){!function(e,t){var n=e.data("src"),i=p(n);if(l)f(i,t);else{var o=window.OptanonWrapper?window.OptanonWrapper:function(){l=!0};window.OptanonWrapper=function(){o(),f(i,t)}}}(e,t)}))},cookieConsentFunc:f,getCookieCategory:p,resolvePromise:function(){u(),d()}}},,,,,,,,,,,,function(e,t,n){var i=n(4),o=n(32),a=i.once((function(){document.addEventListener("click",(function(){o.updateAutoplayStatus(!0)}),!0)}));e.exports={track:function(){return a(),0===document.referrer.indexOf(location.protocol+"//"+location.host)}}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.partner=t,this.platform=n,this.placementIdMapping=i.placementIdMapping||null}var t,i,o;return t=e,(i=[{key:"getBid",value:function(e,t){var n=this;if(this.partner){var i=[];return t.forEach((function(t){var o=n.bidFactory(e,t);o&&i.push(o)})),i}}},{key:"getPlacementId",value:function(e,t){return e}},{key:"getAllowedSizeMap",value:function(){return{mobile:["300x50","320x50","300x250","300x600"],desktop:["728x90","970x90","970x250","300x250","300x600"]}}},{key:"getAllowedSizes",value:function(e){var t=this.getAllowedSizeMap(),n=e||this.platform,i=[];return t[n]?i=t[n]:Object.keys(t).forEach((function(e){i=i.concat(t[e]),i=Array.from(new Set(i))})),i}},{key:"bidFactory",value:function(e,t){if(this.getAllowedSizes().indexOf(this.sizeArrayToString(t))>-1)try{return this.getBidderAndParams(e,t)}catch(e){console.log(this.partner+" bid not populated: "+e.message)}return null}},{key:"getBidderAndParams",value:function(e,t){return{bidder:this.partner,params:{placementId:this.getPlacementId(e,t)}}}},{key:"sizeArrayToString",value:function(e){return e[0]+"x"+e[1]}}])&&n(t.prototype,i),o&&n(t,o),e}();e.exports=i},function(e,t){var n=null,i=function(){tp.push(["addHandler","loginSuccess",function(e){"PIANOID"==e.source&&location.reload()}])};e.exports={registerLoginForm:function(e){n=e},registerLoginSuccessHandler:i,showLogin:function(e){e=e||{};var t={screen:"login"};if(n&&(t.formName=n),!e.display||"modal"===e.display){var o=window.innerWidth;e.width=o>660?660:o-48}e=Object.assign(t,e),tp.push(["init",function(){tp.pianoId.show(e)}]),i()},logout:function(){tp.user.logout(),location.href="/"}}},function(e,t){var n=null,i={offerModal:null};e.exports={registerTemplates:function(e){for(var t in e)e.hasOwnProperty(t)&&null===i[t]&&(i[t]=e[t])},registerOfferId:function(e){n=e},showOfferModal:function(){window.tp.push(["init",function(){var e={displayMode:"modal",offerId:n,templateId:i.offerModal};window.innerWidth>=708&&(e.width=660),window.tp.offer.show(e)}])},closeModal:function(){window.tp.offer.close()}}},function(e,t,n){var i=n(3),o=n(4),a=n(2);e.exports={initialize:function(){this.setupTrackingEvents=o.bind(this.setupTrackingEvents,this),this.setupTrackingEvents(this)},setupTrackingEvents:function(e){[{selector:".subscribe_header",action:"click",label:"Subscribe in header"},{selector:".upgrade",action:"click",label:"Upgrade in header"},{selector:".bb-user-profile-link",action:"click",label:"My Account in header"},{selector:".signout",action:"click",label:"Sign Out in header"},{selector:".signin",action:"click",label:"Sign In in header"},{selector:"#image_footer",action:"click",label:"Magazine Cover in Footer"},{selector:"#subscribe_footer",action:"click",label:"Subscribe in Footer"}].forEach((function(t){i(t.selector).on("click",(function(n){var a=t.useAttribute||"";o.bind(e.fireGAEvent,i(n.currentTarget))(t.action,t.label,a)}))}))},fireGAEvent:function(e,t,n){var i={category:"membership",action:e,label:t};return n&&(i.label=i.label+this.attr(n)),a.trigger("trackEvent",i),!1}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=window.PGM||{};window.$=window.jQuery=n(10),window._=n(4),window.enquire=n(22),i.debug=n(6),i.events=n(2),i.util=n(38),i.geo=n(151),e.exports=i},,,function(e,t,n){var i=n(3),o=n(4);!function(e,t,n,i){if(!t||!t.fn||!n)throw{name:"Unmet Dependency",message:"RailSlider needs jQuery and Underscore"};var o,a,r,s=function(e,t,n){var i={context:".container",headerOffset:0,liveRecalc:!1},o=t(e),a=function(e,a){this._defaults=i,this.settings=t.extend({},i,a),this.uid=n.uniqueId("rail-slider-"),this.el=e,this.$el=t(this.el),this.$context=this.$el.closest(this.settings.context),this.$window=o,this.originalStyle={position:this.el.style.position,top:this.el.style.top,width:this.el.style.width},this.init()};return t.extend(a.prototype,{init:function(){n.bindAll(this,"scrollHandler","resizeHandler","calculateValues"),this.bindHandlers()},calculateValues:function(){this.headerOffset=parseInt(t.isFunction(this.settings.headerOffset)?this.settings.headerOffset():this.settings.headerOffset,10),this.height=this.$el.outerHeight(!0),this.width=this.$el.width(),this.from=this.$el.offset().top-this.headerOffset,this.calculateTo()},calculateTo:function(){this.height=this.$el.outerHeight(!0),this.to=this.from+this.$context.height()-n.reduce(n.map(this.$el.siblings().add(this.$el).filter(":visible"),(function(e){return t(e).outerHeight(!0)})),(function(e,t){return e+t}),0)},bindHandlers:function(){this.calculateValues(),this.to<=this.from||(this.$window.on("scroll."+this.uid,this.scrollHandler).on("resize."+this.uid,n.debounce(this.resizeHandler,100)),this.scrollHandler())},unbindHandlers:function(){this.$window.off("."+this.uid),this.resetStyle()},resetStyle:function(){t.extend(this.el.style,this.originalStyle)},scrollHandler:function(){this.settings.liveRecalc&&this.calculateTo(),e.pageYOffset<this.from?this.resetStyle():(this.el.style.width=this.width+"px",this.el.style.position="fixed",this.el.style.top=this.headerOffset-Math.max(0,Math.min(e.pageYOffset-this.to,this.height+this.headerOffset))+"px")},resizeHandler:function(){this.unbindHandlers(),this.bindHandlers()}}),a}(e,t,n);t.railSliders=(o=[],a=!0,(r=function(){return o}).push=function(e){o.push(e)},r.recalculate=function(e){void 0!==e&&(a=e),a&&t.each(o,(function(e,t){t.resizeHandler()}))},r.disable=function(){a=!1,t.each(o,(function(e,t){t.unbindHandlers()}))},r),e.googletag&&e.googletag.cmd.push((function(){e.googletag.pubads().addEventListener("slotRenderEnded",(function(){n.defer((function(){t.railSliders.recalculate()}))}))})),t.fn.railSlider=function(e){return this.each((function(){t.data(this,"railSlider")||(t.data(this,"railSlider",new s(this,e)),t.railSliders.push(t.data(this,"railSlider")))}))}}(window,i,o)},function(e,t,n){var i=n(3);!function(e,t){var n=e.PGM;if(void 0===i||void 0===n||void 0===n.debug)throw{name:"Unmet Dependency",message:"Toggler needs jQuery & PGM Debug"};!function(e,t){e.fn.toggler=function(n){return void 0===n||void 0===n.toggleClass?(t.debug("init","The toggler requires a toggleClass."),this):(this[n.once?"one":"on"]("click",(function(){(null!==n.toggleTarget?e(n.toggleTarget):e(this).next()).toggleClass(n.toggleClass)})),this)}}(i,n)}(window)},,,,,,,function(e,t,n){var i=n(62),o=n(6)("geo"),a=o.getData();if(null==a){var r=i.readCookie("PGMINFO")||"",s=[];r.indexOf("-")>=0?s=r.split("-"):r.indexOf(",")>=0&&(s=r.split(","));for(var c=0;c<s.length;c++){var l=s[c].split(":");if(2===l.length&&"cc"===l[0]){a=l[1];break}}}o("country is "+a),e.exports=a},function(e){e.exports=JSON.parse('{"www.google.com/recaptcha/api.js":1,"googletagmanager.com/gtm.js":2,"scorecardresearch.com":2,"music.amazon.com/embed":3,"embed.music.apple.com":3,"bandcamp.com/EmbeddedPlayer":3,"connect.facebook.net":3,"link.billboard.com":3,"instagram.com":3,"mixcloud.com/widget":3,"w.soundcloud.com/player":3,"open.spotify.com/embed":3,"platform.twitter.com":3,"tinypass.com":3,"embed.vevo.com":3,"youtube.com/embed":3,"lib.pgmcdn.com/clarity":4,"players.brightcove.net":4,"INTERNAL::_pgmCanAutoplay":4,"cb.sailthru.com":4}')},,,,,,,,,,function(e,t,n){n(163),n(194),n(198),n(202);var i=n(10),o=n(20),a=n(2),r=n(226),s=n(227);n(231),s.setup(),i(document).ready((function(){o.setup(),r.loadScripts(),r.loadIframes(),r.loadImages(),r.loadBackgroundImages(),r.loadOnAsyncContentLoaded(),a.trigger("contentReady"),a.trigger("initialContentLoaded",i("body"))}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(2),o=n(6)("dfp");e.exports={slotRenderEnded:function(e){var t,n=document.getElementById(e.slot.getSlotElementId());n&&("dfp-ad-o1"===n.id&&(e.isEmpty?document.body.className=document.body.className.replace(" full-page-ad",""):-1===document.body.className.indexOf("full-page-ad")&&(document.body.className+=" full-page-ad")),-1===n.className.indexOf("is-dfp-returned")&&(n.className+=" is-dfp-returned"),(t=n.getAttribute("data-prepend"))&&n.setAttribute("data-visibleprepend",t)),e.isEmpty&&o("dfp","Ad unit "+n.id+" is empty."),i.trigger("ads:slotRenderEnded",{el:n,slot:e.slot})},videoTargetingReady:function(e){var t=e.slot;if(0===t.getSlotElementId().indexOf("o1")){var n,i=t.getResponseInformation();i&&i.lineItemId&&(n=i.lineItemId),window.CLARITY.push({use:["ads","videoAds"],run:function(e,t){n&&(e.removeKeyVal("all","line_item_id"),e.addKeyVal("all","line_item_id",n)),t.videoTargetingReady()}})}}}},function(e,t,n){var i,o=n(22);function a(){if(i)return i=!1;document.body.className=document.body.className.replace("full-page-ad",""),window.CLARITY.push({use:["ads"],run:function(e){e.refresh()}})}e.exports=function(e){"string"==typeof e&&(i=window.matchMedia(e).matches,o.register(e,{match:a,unmatch:a}))}},function(e,t,n){var i=n(4),o=n(6)("dfp"),a=n(208);a.exposePageLevelTargeting(),e.exports=function(e){window.CLARITY.push({use:["ads"],run:function(t){t.removeKeyVal("all","line_item_id"),t.removeKeyVal("all","referrer"),t.addKeyVal("all","referrer","other");var n=e.find(".js-ad-pageTargeting script");if(n.length)try{i.each(JSON.parse(n.text()),(function(e,n){t.removeKeyVal("all",n),t.addKeyVal("all",n,e)}))}catch(e){o("Error parsing page targeting script data.",n,e)}else o("Cannot retartget page; no tracking script found in ",e)}}),a.exposePageLevelTargeting()}},function(e,t,n){var i=n(3),o=n(4),a=n(32),r="",s={};window.PGM.ads=window.PGM.ads||{},window.PGM.ads.brightcove=window.PGM.ads.brightcove||{},window.PGM.ads.brightcove.adTagManipulate=function(e,t,n){var o=r,c=i(e.el_).data("videoId"),l=!!s[c]&&s[c];if(l){var d=[];for(var u in l)l.hasOwnProperty(u)&&d.push(u+"="+l[u].join(","));o+="&"+d.join("&")}return"chrome"===a.browser&&(o+="&chrome_autoplay_allowed="+a.canAutoplay()),n.replace("{page_level_targeting}",encodeURIComponent(o))},e.exports={exposePageLevelTargeting:function(){window.CLARITY.push({use:["videoAds","jquery"],run:function(e){e.resetReady();e.setAdsReadyListener((function(e,t){try{r=e,s=o.extend(s,t)}catch(e){(console.error||console.log).call(console,e.stack||e)}}))}})}}},,,function(e,t){e.exports={track:function(){return!1}}},function(e,t,n){var i=n(3);e.exports=i.noop},function(e,t){function n(e){return e.find(".dfp-ad")}function i(e){return n(e).add(".dfp-ad-o1").add(e.attr("data-refresh-ads")||"")}var o={article:function(e){return i(e).add('.left-rail .dfp-ad, .dfp-ad[data-position="promo"]')},"lightbox-gallery":n};e.exports=function(e){return o[e]||i}},function(e,t,n){var i=n(4),o=n(6),a=o("dfp"),r=n(215),s=n(216),c=n(77),l=o("prebid").getData()||1500,d="pbjs";function u(e){var t=r.adUnits;if(t)for(;t.length>0;)r.removeAdUnit(t[0].code);var n=s.createBidsArray(e);return a("setting up prebid for",n,"with a timeout of ",l),new Promise((function(e){r.que.push((function(){r.addAdUnits(n),r.requestBids({timeout:l,bidsBackHandler:function(){a("received bids back",r.getBidResponses()),window.CLARITY.push({use:["header"],run:function(t){var n=r.getAdserverTargeting(),i=["hb_bidder","hb_pb","hb_size","hb_adid"],o=16*i.length,a=function(e,n,i){t.clarityAdCall(e,(function(e){e.addHeaderTargeting(n,i,d)}))};for(var s in n)if(n.hasOwnProperty(s)){var c=n[s];for(var l in c)if(c.hasOwnProperty(l))if(window.clarityPageData&&window.clarityPageData.single_request_mode){if(i.indexOf(l)>=0&&o>0){o--,a(s,l=(l+"_"+n[s].hb_bidder).slice(0,20),c[l])}}else a(s,l,c[l])}e()}})}})}))}))}r.bidderTimeout=l,r.que.push((function(){window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("ads_requested"),r.setConfig({enableSendAllBids:!0,priceGranularity:"dense"})})),e.exports={auction:u,registerBidder:function(e){e&&(Array.isArray(e)||(e=[e]),s.registerBidder(e),e.forEach((function(e){i.extend(r.bidderSettings,e.bidderSettings)})))},setup:function(){window.CLARITY.push({use:["header"],run:function(e){e.addCustomPartner("prebid",(function(e){var t=function(){var e=this;e.partnerName=d,e.refreshTargeting=!0,e.registerPbSlots=function(t){console.log("register pb slots");var n=e.getFormattedAds();t||(t=Object.keys(n));for(var i=0;i<t.length;i++){var o=n[t[i]];c.add(o.domId,o.position,o.sizeMap)}},e.doRefresh=function(t,n){e.registerPbSlots(t),u(t).then(n)},e.registerPbSlots(),u(Object.keys(e.getFormattedAds())).then((function(){e.onFetchInitialBids()}))};return t.prototype=e,t}))}})}}},,function(e,t,n){var i=n(4),o=n(77),a=[];e.exports={registerBidder:function(e){(Array.isArray(e)?e:[e]).forEach((function(e){return a.push(e)}))},createBidsArray:function(e){return e.filter((function(e){return"dfp-ad-o1"!==e})).map((function(e){var t=function(e){return o.getSlotSizes(e)[i.find(Object.keys(o.getSlotSizes(e)).sort((function(e,t){return parseInt(t,10)-parseInt(e,10)})),(function(e){return e<window.innerWidth}))]}(e);return Array.isArray(t)?{code:e,sizes:t,bids:a.map((function(n){return n.getBid({id:e,sizes:t,targeting:o.getSlotTargeting(e)})})).filter((function(e){return!!e})).reduce((function(e,t){return e.concat(t)}),[])}:{bids:[]}})).filter((function(e){return e.bids.length>0}))}}},function(e,t,n){var i=n(218),o=n(219),a=n(220),r=n(221),s=n(223),c=n(225);e.exports=[].concat(i).concat(o).concat(a).concat(r).concat(s).concat(c)},function(e,t){var n={homepage:[],ros:[]},i={"300x250":{mobile:n,desktop:{homepage:["4326067","4326062"],ros:["4326092","4326091"]}},"300x600":{mobile:n,desktop:{homepage:["4326066","4326063"],ros:["4326098","4326100"]}},"728x90":{mobile:n,desktop:{homepage:["4326069","4326064"],ros:["4326097","4326094"]}},"970x250":{mobile:n,desktop:{homepage:["4326065"],ros:["4326096","4326099"]}},"970x90":{mobile:n,desktop:{homepage:["4326061","4326068"],ros:["4326093","4326095"]}},"300x50":{desktop:n,mobile:{homepage:["4326085","4326087"],ros:["4326116","4326114","4326117"]}},"320x50":{desktop:n,mobile:{homepage:["4326086","4326088"],ros:["4326115","4326112","4326113"]}}};function o(e,t){return{getBid:function(n){if(-1===n.sizes.map((function(e){return e.join("x")})).indexOf(e))return null;var i,o=(i=t[document.documentElement.clientWidth<767?"mobile":"desktop"][-1!==document.body.className.indexOf("homepage")?"homepage":"ros"]).length>1?i.shift():i[0];return void 0===o?null:{bidder:"aol",params:{network:"10189.1",placement:o}}}}}e.exports=Object.keys(i).map((function(e){return o(e,i[e])}))},function(e,t){var n={"728x90":["14985897","14985898","14985901","14985902","14985903","14985904","14985905"],"320x50":["14985907","14985908","14985910","14985911","14985912","14985913","14985914"],"300x50":["14985915","14985916","14985917","14985918","14985919","14985920","14985921"],"300x250":["14927249","14927852","14928392","14928448","14928449","14928451","14928454","14928456","14928458","14928459","14928471","14928474","14928475","14928476","14928477","14928478","14928479","14928480","14928481","14928483","14928484"]},i=new Map;e.exports={getBid:function(e){if(!e.id)return null;var t=e.id,o=e.sizes.map((function(e){return e.join("x")})),a=Object.keys(n).filter((function(e){if(-1!==o.indexOf(e))return e}));return a.length?a.map((function(e){return placementId=function(e,t){return i.has(e)?i.get(e):(i.set(e,n[t].shift()),i.get(e))}(t,e),placementId?{bidder:"appnexus",params:{placementId:placementId}}:null})).filter((function(e){return!!e})):null}}},function(e,t){var n=new Map,i={"300x50":["342393","342394","342395","342396","342397","342398","342399"],"300x250":["341752","341753","341754","341755","341756","341757","341758","341759","341760","341761","341762","341763","341764","341765","341766","341767","341768","341769","341770","341771","341772"],"300x600":["342372","342373","342374","342375","342376","342377","342378"],"320x50":["342386","342387","342388","342389","342390","342391","342392"],"728x90":["342365","342366","342367","342368","342369","342370","342371"],"970x90":["342379","342380","342381","342382","342383","342384","342385"]};i["300x600"]=i["300x250"],e.exports={getBid:function(e){if(!e.id)return null;var t=e.id,o=e.sizes.map((function(e){return e.join("x")})),a=Object.keys(i).filter((function(e){if(-1!==o.indexOf(e))return e}));return a.length?a.map((function(e){return placementId=function(e,t){var o=e+"_"+t;return n.has(o)?n.get(o):i[t]&&i[t].length?(placementId=i[t].shift(),n.set(o,placementId),placementId):null}(t,e),placementId?{bidder:"ix",params:{siteId:placementId,size:e.split("x").map((function(e){return parseInt(e)}))}}:null})).filter((function(e){return!!e})):null}}},function(e,t,n){var i=new(n(222))("kargo","mobile",{placementIdMapping:{"300x250":"_jK-5qZqW2NA","320x50":{default:"_d2Qg1UQeBH",m1:!1,m2:!1,adhesion:"_vLatFDz2Rj"}}});e.exports={getBid:function(e){return i.getBid(e.id,e.sizes)}}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,s(t).apply(this,arguments))}var n,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(i=[{key:"getAllowedSizeMap",value:function(){return{mobile:["320x50","300x250"]}}},{key:"getPlacementId",value:function(e,t){var n=e.split("_")[0],i=this.sizeArrayToString(t),o=this.placementIdMapping[i];if(o){if("string"==typeof o)return o;if(o.default){if(!1===o[n])throw new Error("Size ".concat(i," not mapped for position ").concat(n,"."));return o[n]?o[n]:o.default}throw new Error("Unexpected size mapping, exiting.")}throw new Error("No size mapping found")}}])&&a(n.prototype,i),o&&a(n,o),t}(n(101));e.exports=l},function(e,t,n){var i=new(n(224))("pxyz","mobile",{placementIdMapping:{"300x250":{m1:"17331126",m2:"17331126"},"320x50":{adhesion:"16786010"}}});e.exports={getBid:function(e){return i.getBid(e.id,e.sizes)}}},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,s(t).apply(this,arguments))}var n,i,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),n=t,(i=[{key:"getAllowedSizeMap",value:function(){return{mobile:["320x50","300x250"]}}},{key:"getPlacementId",value:function(e,t){var n=e.split("_")[0],i=this.sizeArrayToString(t),a=this.placementIdMapping[i];if(a){if("object"===o(a)){if(a[n])return a[n];throw new Error("Unexpected size mapping, exiting.")}throw new Error("Unexpected size mapping, exiting.")}throw new Error("No size mapping found")}}])&&a(n.prototype,i),l&&a(n,l),t}(n(101));e.exports=l},function(e,t){var n="11872",i="41400",o=new Map,a={"300x50":["1199714","1199716","1199718","1199720","1199722","1199724","1199726"],"320x50":["1199728","1199730","1199732","1199734","1199736","1199738","1199740"],"300x250":["1191894","1191910","1191924","1191952","1191930","1191932","1191936","1191938","1191942","1191946","1191948","1191954","1191956","1191958","1191960","1191962","1191964","1191966","1191968","1191970","1191972"],"300x600":["1199698","1199700","1199702","1199704","1199708","1199710","1199712"],"728x90":["1199684","1199686","1199688","1199690","1199692","1199694","1199696"],"970x90":["1199742","1199744","1199746","1199748","1199750","1199752","1199754"]},r={"300x50":"44","320x50":"43","300x250":"15","300x600":"88","728x90":"2","970x90":"55"};function s(e,t){var n=e+"_"+t;return o.has(n)?o.get(n):a[t]&&a[t].length?(placementId=a[t].shift(),o.set(n,placementId),placementId):null}e.exports={getBid:function(e){if(!e.id)return null;var t=e.id,o=e.sizes.map((function(e){return e.join("x")})),c=Object.keys(a).filter((function(e){if(-1!==o.indexOf(e))return e}));return c.length?c.map((function(e){var o=s(t,e),a=r[e]||null;return o?{bidder:"rubicon",params:{accountId:n,siteId:i,zoneId:o,sizes:[a]}}:null})).filter((function(e){return!!e})):null}}},function(e,t,n){var i=n(3),o=n(6)("lazyload"),a=n(2),r=n(33),s="skip"===o.getData();s&&o("skipping lazyload");var c=function(){i("img[data-src]:not(.js-lazyload-skip)").each((function(){var e=i(this),t=r.removeSrcProtocol(e.attr("data-src")),n=e.attr("data-srcset");o("img",t),e.attr("src",t),e.attr("srcset",n),e.attr("data-srcwas",t),e.attr("data-src",null),e.attr("data-srcsetwas",n),e.attr("data-srcset",null)}))},l=function(){i("script[data-src]").each((function(){var e=i(this).data("src");e&&(e=r.removeSrcProtocol(i(this).data("src")),o("script",e),r.createScript(e),i(this).data("srcwas",e),i(this).data("src",null))}))},d=function(){i("iframe[data-src]").each((function(){r.createIframe(i(this))}))},u=s?function(){}:function(){a.on("asyncContentLoaded",(function(){c(),l(),d()}))};e.exports={loadImages:s?function(){}:c,loadScripts:s?function(){}:l,loadBackgroundImages:s?function(){}:function(){i("[data-bgsrc]").each((function(){var e="url("+r.removeSrcProtocol(i(this).attr("data-bgsrc"))+")";o("background image",e),i(this).css("background-image",e),i(this).attr("data-bgsrcwas",e),i(this).attr("data-bgsrc",null)}))},loadIframes:s?function(){}:d,loadOnAsyncContentLoaded:s?function(){}:u}},function(e,t,n){n(228),n(230);var i=n(32);e.exports={setup:function(){i.track()}}},function(e,t,n){var i=n(3),o=n(4),a=n(7),r=n(6),s=n(2);!function(e,t,i,o){var c=function(e,t,i,o){var a=t(e),c=t("body"),l=o.Model.extend({url:"/fe_data/service/breaking-news"+(r.isEnabled("breaking")?"?_pgmdebug=breaking":"")}),d=o.View.extend({template:n(229),initialize:function(){this.listenTo(this.model,"change",this.render),this.on("dismiss",this.onDismiss)},events:{"click .breaking-news-bar__close":"onClose","click .breaking-news-bar__contents":"onContentClick"},render:function(){return this.isDismissed()||i.isUndefined(this.model.get("nid"))?(this.$el.empty(),this):(this.$el.html(this.template(this.model.toJSON())),this.trackRender(),this)},trackRender:i.once((function(){s.trigger("trackEvent",{category:"promo",action:"display",label:"breaking news"})})),onClose:function(){return this.trigger("dismiss"),!1},onContentClick:function(){s.trigger("trackEvent",{category:"promo",action:"click",label:"breaking news"}),this.trigger("dismiss")},onDismiss:function(){localStorage.setItem("breaking-news-dismissed",this.model.get("nid")),this.render()},isDismissed:function(){var e=localStorage.getItem("breaking-news-dismissed");return!!e&&parseInt(e,10)===parseInt(this.model.get("nid"),10)}}),u=o.View.extend({tagName:"progress",className:"site-header__progress"}),p=o.View.extend({initialize:function(){this.$input=this.$(".js-search-input"),this.$submit=this.$(".js-search-submit"),this.empty=0===this.getQuery().length},events:{"keyup .js-search-input":"keyupHandler","click .js-search-submit":"clickHandler",submit:"submit"},render:function(){return this.$("i:not(.hamburger-menu-icon)").toggleClass("fa-times",this.empty).toggleClass("fa-search",!this.empty),this},onEnable:function(e){e?(this.$input.removeAttr("disabled"),this.$submit.removeAttr("disabled")):(this.$input.attr("disabled",!0),this.$submit.attr("disabled",!0))},keyupHandler:function(e){this.empty=0===e.target.value.length,this.render(),13===e.keyCode&&this.empty&&e.preventDefault()},clickHandler:function(e){this.empty&&(e.preventDefault(),this.trigger("close"))},submit:function(t){t.preventDefault(),this.empty||(e.location.href="/search/"+this.getQuery().toLowerCase())},getQuery:function(){for(var e=this.$input.map((function(){return t(this).val()})).get(),n="",i=0;i<e.length;i++)if(0!==e[i].length){n=e[i];break}return n}}),f=o.View.extend({maxShown:5,initialize:function(){i.bindAll(this,"compactDesktopMenu","render"),this.$holder=this.$el.find(".site-header__nav"),this.$nav=this.$el.find(".site-header__nav-items").not(".site-header__nav-items--more"),this.$moreNav=this.$el.find(".site-header__nav-items--more"),this.$moreSubNavItems=this.$moreNav.find(".site-header__subnav-item"),this.$socialSubscribe=this.$el.find(".site-header__social-subscribe"),this.$artistNav=t(e).find(".artist-page--feed .artist-header.condensed, .artist-section__header")},render:function(){return this.$moreNav.length&&(t(e).width()>=1024?this.compactDesktopMenu():this.$moreNav.css({display:"",visibility:""}),this.$nav.css("visibility","visible")),this},compactDesktopMenu:function(){var e=this;e.$moreNav.css("display","block");var n=e.$holder.width()-e.$socialSubscribe.outerWidth(),i=e.$moreNav.outerWidth();e.$moreSubNavItems.addClass("hidden"),t.each(e.$nav.find(".site-header__nav-item").removeClass("hidden").get().reverse(),(function(o){var a=t(this),r=e.$nav.outerWidth();if(!(o<e.$moreSubNavItems.length-e.maxShown&&e.maxShown+1!==e.$moreSubNavItems.length||0===o&&r>n||o>0&&r>n-i))return 0===o&&e.$moreNav.css({display:"",visibility:""}),!1;a.addClass("hidden"),e.$moreNav.css({display:"block",visibility:"visible"}),e.$moreSubNavItems.eq(e.$moreSubNavItems.length-1-o).removeClass("hidden")}))}});return o.View.extend({initialize:function(){var e=this;i.bindAll(this,"checkContentHeight","render","scrollHandler"),a.on("resize."+this.cid,i.debounce(this.render,100)),a.on("scroll."+this.cid,i.throttle(this.scrollHandler,50)),this.progressView=null,this.lastScrollPosition=null,this.$belowSiteHeaderWrapper=t(".header-wrapper__secondary-header"),this.$mainHeaderWrapper=t(".header-wrapper"),this.$headerPlaceholder=t(".site-header__placeholder"),this.$(".site-header__nav-items--more").length?this.moreView=new f({el:this.$el}).render():this.$el.find(".site-header__nav-items").css("visibility","visible"),this.$(".js-search-form").each((function(){var n=t(this),i=new p({el:n}).render();n.filter(".site-header__search-form--main").length>0&&(e.searchView=i,e.listenTo(e.searchView,"close",e.toggleSearch))}));var n=t(".breaking-news-bar");n.length>0&&(this.breakingNewsView=new d({model:new l,el:n.get(0)}),this.listenTo(this.breakingNewsView,"dismiss",this.render),this.breakingNewsView.model.fetch()),this.$leaderboardTop=t(".leaderboard.leaderboard--top")},render:function(){return this.breakingNewsView&&this.$el.toggleClass("is-breaking-news--showing",!this.breakingNewsView.isDismissed()),this.height=this.$el.outerHeight(),this.$(".site-header__nav-inner").css({maxHeight:this.$el.is(".is-nav--visible")?document.documentElement.clientHeight-this.height+"px":""}),this.moreView&&this.moreView.render(),this.matchPlaceholderHeightToHeader(),this},initializeScrollTracking:function(t){this.progressView&&this.progressView.remove(),this.progressView=new u,this.$el.parent().after(this.progressView.$el),this.$el.addClass("is-content--tracking");var n=this.progressView.$el.height();n&&this.$mainHeaderWrapper.css("top",n+"px"),this.$trackContent=t,this.setContentHeight(),this.stopPollingNextTime=!1,this.pollingInterval=e.setInterval(this.checkContentHeight,1e4)},setContentHeight:function(t){this.$trackContent&&this.progressView&&(this.start=this.$trackContent.offset().top,this.end=t||this.start+this.$trackContent.height(),this.progressView.$el.attr("max",this.end-this.start-e.document.documentElement.clientHeight),e.$&&e.$.railSliders&&e.$.railSliders.recalculate())},checkContentHeight:function(){if(this.$trackContent){var t=this.start+this.$trackContent.height();this.end!==t?(this.setContentHeight(t),this.stopPollingNextTime=!1):this.stopPollingNextTime?e.clearInterval(this.pollingInterval):this.stopPollingNextTime=!0}},disableScrollTracking:function(){this.progressView&&this.progressView.remove(),this.progressView=null,this.$el.removeClass("is-content--tracking"),this.pollingInterval&&e.clearInterval(this.pollingInterval),delete this.stopPollingNextTime},scrollHandler:function(){if(!this.$el.is(".is-nav--visible")){var t=e.scrollY>Math.max(this.height,this.lastScrollPosition),n=e.scrollY>0;this.$belowSiteHeaderWrapper.toggleClass("hidden",n),this.$el.toggleClass("is-scrolling",n),this.$el.toggleClass("is-scrolling--down",t),this.$leaderboardTop.toggleClass("is-scrolling",n),this.$leaderboardTop.toggleClass("is-scrolling--down",t),this.$mainHeaderWrapper.toggleClass("hidden",t),c.toggleClass("hidden-nav",t),c.toggleClass("hidden-nav--secondary",n),this.lastScrollPosition=e.scrollY,this.progressView&&this.progressView.$el.attr("value",Math.min(Math.max(0,e.scrollY-this.start),this.end-this.start))}},events:{"click .site-header__nav-toggle":"toggleNav","click .site-header__search-toggle":"toggleSearch","click .site-header__nav-item.collapsed":"openSubNav","click .site-header__nav-item.expanded":"closeSubNav","click .site-header__nav a":"trackMainNavClick"},toggleNav:function(){if(this.$el.toggleClass("is-nav--visible"),this.$el.is(".is-nav--visible")){c.css({overflow:"hidden",position:"fixed"});var n=this,i=t('<div id="navOverlay"></div>');i.on("click",(function(){n.toggleNav()})),c.append(i)}else c.css({overflow:"visible",position:"initial"}),t("#navOverlay").remove(),t(e).scrollTop(this.lastScrollPosition);this.render()},toggleSearch:function(){this.$el.toggleClass("is-search--visible"),this.searchView.trigger("enable",this.$el.hasClass("is-search--visible"))},openSubNav:function(n){var i=t(n.currentTarget),o=e.innerWidth>0?e.innerWidth:screen.width;i.hasClass("js-not-expandable-desktop")&&o>=1024||i.find(".site-header__subnav-items").is(":visible")||(this.closeAllSubNavs(),i.removeClass("collapsed").addClass("expanded"),c.on("click.subnavExpand",(function(e){if(0===t(e.target).parents(".expanded").length)return i.click(),!1})),n.preventDefault())},closeSubNav:function(e){if(-1===e.target.className.indexOf("site-header__subnav-link")&&(-1===e.target.className.indexOf("site-header__nav-link")||"SPAN"===e.target.tagName))return e.currentTarget.className=e.currentTarget.className.replace("expanded","collapsed"),c.off(".subnavExpand"),!1},closeAllSubNavs:function(){this.$(".site-header__nav-item.expanded").removeClass("expanded").addClass("collapsed")},remove:function(){a.off("."+this.cid),o.View.prototype.remove.call(this)},trackMainNavClick:function(e){s.trigger("trackEvent",{category:"navigation",action:"main-nav",label:e.target.textContent.trim().toLowerCase()})},matchPlaceholderHeightToHeader:function(){this.headerTotalHeight=this.$mainHeaderWrapper.height()+this.$belowSiteHeaderWrapper.height(),this.$headerPlaceholder.css("height",this.headerTotalHeight)}})}(e,t,i,a);e.PGM=e.PGM||{},t((function(){t(".site-header").first().each((function(){e.PGM.Header=new c({el:this}),e.PGM.Header.render()})),t(".site-header-links__link").on("click",(function(){s.trigger("trackEvent",{category:"navigation",action:"sub-nav",label:this.textContent.trim().toLowerCase()})}))}))}(window,i,o)},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<a class="breaking-news-bar__contents" href="<%= url %>">\n    <button class="breaking-news-bar__close">\n        <i class="fa fa-times" aria-hidden="true"></i>\n    </button>\n\n    <h4 class="breaking-news-bar__label">Breaking News</h4>\n    <h3><%= title %></h3>\n</a>\n',filename:"."};function rethrow(e,t,n,i){var o=t.split("\n"),a=Math.max(i-3,0),r=Math.min(o.length,i+3),s=o.slice(a,r).map((function(e,t){var n=t+a+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<a class="breaking-news-bar__contents" href="',escape((__stack.lineno=1,url)),'">\n    <button class="breaking-news-bar__close">\n        <i class="fa fa-times" aria-hidden="true"></i>\n    </button>\n\n    <h4 class="breaking-news-bar__label">Breaking News</h4>\n    <h3>',escape((__stack.lineno=7,title)),"</h3>\n</a>\n");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},,function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}!function(e,t,n){var i=function(e){return e.startsWith("http")?e:[t.location.origin,e].join(e.startsWith("/")?"":"/")};t.PGM=t.PGM||{},t.PGM.Social=function(){var a={},r="height=300, width=400";return a.facebook=function(e,i,o){i=i||n.title,o=o;var a="http://www.facebook.com/sharer.php?u="+(e=encodeURIComponent(e))+"&p[title]="+(i=encodeURIComponent(i));t.open(a,i,r)},a.twitter=function(i,o,a){o=o||e('meta[name="twitter:title"]').attr("content")||n.title,i=encodeURIComponent(i),o=encodeURIComponent(o),a=a;var s=e("body").data("twitter-handle")||"";if(!s)try{s=t.PGM.social.twitter.account}catch(e){console.log("Unable to retrieve twitter account")}var c="http://twitter.com/share?text="+o+"&url="+i+"&via="+s;t.open(c,o,r)},a.youtube=function(e,n,i){var o="http://www.youtube.com/user/"+i.user+"?sub_confirmation=1";t.open(o)},a.email=function(e,n,i){e=encodeURIComponent(e);var o="mailto:?subject="+(n=encodeURIComponent(n))+"&body="+i+"%0A%0A"+e;t.open(o)},a.pinterest=function(a,s,c){var l;if(s=s||e('meta[property="og:title"]').attr("content")||n.title,a=encodeURIComponent(a),s=encodeURIComponent(s),"object"===o(c=c))l=c.media;else{var d=e('meta[property="og:image"]').eq(0).attr("content");l=void 0===d?"":d}var u="http://pinterest.com/pin/create/button/?url="+a+"&media="+(l=encodeURIComponent(i(l)))+"&description="+s;t.open(u,s,r)},a.tumblr=function(e,i,o){i=i||n.title,o=o;var a="http://www.tumblr.com/share/link?url="+(e=encodeURIComponent(e))+"&name="+(i=encodeURIComponent(i));t.open(a,i,r)},a},e(n).ready((function(){var n=t.PGM.Social();e("body").on("click",".js-pgm-social-share",(function(o){o.preventDefault();var a=e(this),r=a.data("pgm-share"),s=a.attr("data-pgm-title"),c=a.data("pgm-url")||t.location.href,l=a.data("pgm-share-options");if(c){c=i(c);var d=n[r];d?d(c,s,l):t.PGM.debug("undefined share for "+r),a.removeData("pgm-share-options")}else t.PGM.debug("cound not find share url.")}))}))}(n(10),window,window.document)},function(e,t,n){var i=n(3),o=n(2),a=function(){return{both:{selector:"body"},action:"after"}};e.exports={setBrandedContentSelector:function(e){a=e},init:function(){window.scInterrupters=window.scInterrupters||[],window.scInterrupters.push=function(e){var t=a(),n=null,r=t.template,s=i(window).width()<1024?"mobile":"desktop",c=r(e[0]);if(c&&null!==(n=void 0!==t.both?t.both:t[s])){switch(n.action){case"before":i(n.selector).before(c);break;case"after":i(n.selector).after(c);break;case"append":i(n.selector).append(c);break;case"prepend":i(n.selector).prepend(c)}o.trigger("injectedBrandedPromo",{})}}}}},function(e,t,n){var i=n(10);e.exports=function(){var e={},t=i("body");return t.hasClass("homepage")?(e.template=n(234),e.both={selector:"section.primary:not(.container__layout-1x2):eq(1)",action:"before"}):t.hasClass("article-page")?(e.template=n(235),e.mobile={selector:".article__body, .article-body",action:"after"},e.desktop={selector:"div.rail-ad",action:"after"}):t.hasClass("index-page")?(e.template=n(236),e.both={selector:"#section_3 > div:nth-child(3)",action:"before"}):t.hasClass("chart-page")&&(e.template=n(237),e.both={selector:".chart-list-item[data-rank=3]",action:"after"}),e}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<section class="branded-promo homepage primary">\n    <div class="display-mobile">\n        <div class="sponsor-header">\n            <span class="advertisement-text">ADVERTISEMENT</span>\n            <div class="sponsor-image">\n                <span><%= sponsored_text %></span>\n                <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.mobile_feed %>" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n        </div>\n    </div>\n    <div class="display-desktop">\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.feed.split %>" alt=""></a>\n        <div class="text-holder">\n            <div class="sponsor-header">\n                <span class="advertisement-text">ADVERTISEMENT</span>\n                <div class="sponsor-image">\n                    <span><%= sponsored_text %></span>\n                    <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n                </div>\n            </div>\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</section>\n',filename:"."};function rethrow(e,t,n,i){var o=t.split("\n"),a=Math.max(i-3,0),r=Math.min(o.length,i+3),s=o.slice(a,r).map((function(e,t){var n=t+a+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<section class="branded-promo homepage primary">\n    <div class="display-mobile">\n        <div class="sponsor-header">\n            <span class="advertisement-text">ADVERTISEMENT</span>\n            <div class="sponsor-image">\n                <span>',escape((__stack.lineno=6,sponsored_text)),'</span>\n                <a href="',escape((__stack.lineno=7,sponsor_link)),'"><img src="',escape((__stack.lineno=7,sponsor_image)),'" alt=""></a>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <a href="',escape((__stack.lineno=11,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=11,post_images.mobile_feed)),'" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=13,post_link)),'">',escape((__stack.lineno=13,post_title)),'</a></h2>\n        </div>\n    </div>\n    <div class="display-desktop">\n        <a href="',escape((__stack.lineno=17,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=17,post_images.feed.split)),'" alt=""></a>\n        <div class="text-holder">\n            <div class="sponsor-header">\n                <span class="advertisement-text">ADVERTISEMENT</span>\n                <div class="sponsor-image">\n                    <span>',escape((__stack.lineno=22,sponsored_text)),'</span>\n                    <a href="',escape((__stack.lineno=23,sponsor_link)),'"><img src="',escape((__stack.lineno=23,sponsor_image)),'" alt=""></a>\n                </div>\n            </div>\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=27,post_link)),'">',escape((__stack.lineno=27,post_title)),'</a></h2>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</section>\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="branded-promo article">\n    <div class="sponsor-header">\n        <span class="advertisement-text">ADVERTISEMENT</span>\n        <div class="sponsor-image">\n            <span>\n                <%if (sponsored_text && sponsored_text.length > 0) { %>\n                    <%= sponsored_text %>\n                <% } %>\n            </span>\n            <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>"\n                    alt=""></a>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.mobile_feed %>" alt=""></a>\n    <div class="title-holder">\n        <h2 class="content-block__title__primary"><a href="<%= post_link %>">\n                <%= post_title %></a></h2>\n    </div>\n</div>',filename:"."};function rethrow(e,t,n,i){var o=t.split("\n"),a=Math.max(i-3,0),r=Math.min(o.length,i+3),s=o.slice(a,r).map((function(e,t){var n=t+a+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="branded-promo article">\n    <div class="sponsor-header">\n        <span class="advertisement-text">ADVERTISEMENT</span>\n        <div class="sponsor-image">\n            <span>\n                '),__stack.lineno=6,sponsored_text&&sponsored_text.length>0&&(buf.push("\n                    ",escape((__stack.lineno=7,sponsored_text)),"\n                "),__stack.lineno=8),buf.push('\n            </span>\n            <a href="',escape((__stack.lineno=10,sponsor_link)),'"><img src="',escape((__stack.lineno=10,sponsor_image)),'"\n                    alt=""></a>\n        </div>\n        <div class="clear"></div>\n    </div>\n    <a href="',escape((__stack.lineno=15,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=15,post_images.mobile_feed)),'" alt=""></a>\n    <div class="title-holder">\n        <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=17,post_link)),'">\n                ',escape((__stack.lineno=18,post_title)),"</a></h2>\n    </div>\n</div>");return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'<div class="branded-promo generic-hub">\n    <div class="display-mobile">\n        <div class="advertisement-text">ADVERTISEMENT</div>\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.mobile_feed %>" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n        </div>\n        <div class="clear"></div>\n        <div class="sponsor-image">\n            <span>Presented By:</span>\n            <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n        </div>\n    </div>\n    <div class="display-desktop">\n        <span class="advertisement-text">ADVERTISEMENT</span>\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.feed.split %>" alt=""></a>\n        <div class="text-holder">\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n            </div>\n            <div class="sponsor-image">\n                <span>Presented By:</span>\n                <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>',filename:"."};function rethrow(e,t,n,i){var o=t.split("\n"),a=Math.max(i-3,0),r=Math.min(o.length,i+3),s=o.slice(a,r).map((function(e,t){var n=t+a+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('<div class="branded-promo generic-hub">\n    <div class="display-mobile">\n        <div class="advertisement-text">ADVERTISEMENT</div>\n        <a href="',escape((__stack.lineno=4,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=4,post_images.mobile_feed)),'" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=6,post_link)),'">',escape((__stack.lineno=6,post_title)),'</a></h2>\n        </div>\n        <div class="clear"></div>\n        <div class="sponsor-image">\n            <span>Presented By:</span>\n            <a href="',escape((__stack.lineno=11,sponsor_link)),'"><img src="',escape((__stack.lineno=11,sponsor_image)),'" alt=""></a>\n        </div>\n    </div>\n    <div class="display-desktop">\n        <span class="advertisement-text">ADVERTISEMENT</span>\n        <a href="',escape((__stack.lineno=16,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=16,post_images.feed.split)),'" alt=""></a>\n        <div class="text-holder">\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=19,post_link)),'">',escape((__stack.lineno=19,post_title)),'</a></h2>\n            </div>\n            <div class="sponsor-image">\n                <span>Presented By:</span>\n                <a href="',escape((__stack.lineno=23,sponsor_link)),'"><img src="',escape((__stack.lineno=23,sponsor_image)),'" alt=""></a>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(module,exports){module.exports=function anonymous(locals,filters,escape,rethrow){escape=escape||function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")};var __stack={lineno:1,input:'\x3c!-- The promo template for chart pages is Billboard-specific --\x3e\n\n<div class="chart-list-item branded-promo chart">\n    <div class="chart-list-item__first-row display-mobile">\n        <div class="sponsor-header">\n            <span class="advertisement-text">ADVERTISEMENT</span>\n            <div class="sponsor-image">\n                <span><%= sponsored_text %></span>\n                <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.mobile_feed %>" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n        </div>\n    </div>\n    <div class="chart-list-item__first-row display-desktop">\n        <a href="<%= post_link %>"><img class="promo-image" src="<%= post_images.feed.split %>" alt=""></a>\n        <div class="text-holder">\n            <div class="sponsor-header">\n                <span class="advertisement-text">ADVERTISEMENT</span>\n                <div class="sponsor-image">\n                    <span><%= sponsored_text %></span>\n                    <a href="<%= sponsor_link %>"><img src="<%= sponsor_image %>" alt=""></a>\n                </div>\n            </div>\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="<%= post_link %>"><%= post_title %></a></h2>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n\n',filename:"."};function rethrow(e,t,n,i){var o=t.split("\n"),a=Math.max(i-3,0),r=Math.min(o.length,i+3),s=o.slice(a,r).map((function(e,t){var n=t+a+1;return(n==i?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message,e}try{var buf=[];with(locals||{})buf.push('\x3c!-- The promo template for chart pages is Billboard-specific --\x3e\n\n<div class="chart-list-item branded-promo chart">\n    <div class="chart-list-item__first-row display-mobile">\n        <div class="sponsor-header">\n            <span class="advertisement-text">ADVERTISEMENT</span>\n            <div class="sponsor-image">\n                <span>',escape((__stack.lineno=8,sponsored_text)),'</span>\n                <a href="',escape((__stack.lineno=9,sponsor_link)),'"><img src="',escape((__stack.lineno=9,sponsor_image)),'" alt=""></a>\n            </div>\n            <div class="clear"></div>\n        </div>\n        <a href="',escape((__stack.lineno=13,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=13,post_images.mobile_feed)),'" alt=""></a>\n        <div class="title-holder">\n            <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=15,post_link)),'">',escape((__stack.lineno=15,post_title)),'</a></h2>\n        </div>\n    </div>\n    <div class="chart-list-item__first-row display-desktop">\n        <a href="',escape((__stack.lineno=19,post_link)),'"><img class="promo-image" src="',escape((__stack.lineno=19,post_images.feed.split)),'" alt=""></a>\n        <div class="text-holder">\n            <div class="sponsor-header">\n                <span class="advertisement-text">ADVERTISEMENT</span>\n                <div class="sponsor-image">\n                    <span>',escape((__stack.lineno=24,sponsored_text)),'</span>\n                    <a href="',escape((__stack.lineno=25,sponsor_link)),'"><img src="',escape((__stack.lineno=25,sponsor_image)),'" alt=""></a>\n                </div>\n            </div>\n            <div class="title-holder">\n                <h2 class="content-block__title__primary"><a href="',escape((__stack.lineno=29,post_link)),'">',escape((__stack.lineno=29,post_title)),'</a></h2>\n            </div>\n        </div>\n        <div class="clear"></div>\n    </div>\n</div>\n\n');return buf.join("")}catch(err){rethrow(err,__stack.input,__stack.filename,__stack.lineno)}}},function(e,t,n){var i=n(3),o=n(6)("ga"),a=null,r=null;e.exports={setCategory:function(e){a=e.toString(),o("tracking category set to "+a)},setAction:function(e){r=e.toString(),o("tracking action set to "+r)},trackEvent:function(e){var t=i.extend({event:"trackEvent",category:a,action:r,label:null,value:null,nonInteraction:!0,customDimensionIndex1:null,customDimensionValue1:null,customDimensionIndex2:null,customDimensionValue2:null,transport:"beacon"},e);o("trackEvent",e,t),window._gaq.push(["_trackEvent",t.category,t.action,t.label,t.value,t.nonInteraction]),window.dataLayer.push(t)},trackPageview:function(e){var t=i.extend({event:"scrollPageview",path:window.location.pathname},e);t.pathName=t.path,delete t.path,o("trackPageview",e,t),window._gaq.push(["_trackPageview",t.pathName]),window.dataLayer.push(t)}}},function(e,t,n){var i=n(3),o=n(6)("comscore");function a(){void 0!==window.COMSCORE&&"function"==typeof window.COMSCORE.beacon&&window.comscoreVars?(o("call beacon",window.COMSCORE,window.comscoreVars),window.COMSCORE.beacon(window.comscoreVars)):o("did not call beacon",window.COMSCORE,window.comscoreVars)}var r=0;e.exports=function(e,t){void 0!==t&&"function"==typeof t.data?(o("request to track via",document.location.href),i.ajax("/fe_data/pageview_candidate/"+(t.data("id")||++r),{data:{_pgmignore:Date.now()},success:a,error:function(){o("error on ajax return",arguments)}})):o("unable to track with content",t)}},function(e,t,n){var i=n(2),o=n(78);e.exports=function(e,t){var n=o(t);i.trigger("trackPageview",{fireGTM:"on",contentId:n.id,author:n.authors,publishDate:n.publishDate,category:n.analyticsCategory,tags:n.analyticsTags})}},function(e,t,n){var i=n(6)("chartbeat"),o=n(78);e.exports=function(e,t){var n=o(t);void 0!==window._sf_async_config&&(window._sf_async_config.authors=n.authors,window._sf_async_config.sections=n.chartbeatSection,window._sf_async_config.title=n.title,window._sf_async_config.path=n.canonical),void 0!==window.pSUPERFLY&&"function"==typeof window.pSUPERFLY.virtualPage?(i("Calling virtualPage on",n.canonical,n.title,window._sf_async_config),window.pSUPERFLY.virtualPage(n.canonical,n.title)):i("Cannot call virtualPage due to",window.pSUPERFLY)}},function(e,t,n){var i=n(3),o=i(document),a=n(243),r=i(".header-wrapper"),s=i(".site-header__useractions__icon"),c=i(".site-header__nav__extra-mobile-menu input"),l=i(".site-header__nav__extra-mobile-menu__search"),d=i(".site-header__useractions__dropdown"),u=!1,p=function(e){f(e),"paid"==e&&h()},f=function(e){r.find(".bb-user-anon, .bb-user-free, .bb-user-paid").addClass("bb-user-hidden"),r.find(".bb-user-"+e).removeClass("bb-user-hidden"),"anon"==e&&(r.find(".bb-user-loginout-link").click((function(e){e.preventDefault(),a.showLogin()})),a.registerLoginSuccessHandler()),"anon"!==e&&(s.removeClass("site-header__useractions__icon--logged-out"),s.addClass("site-header__useractions__icon--logged-in"),r.find(".bb-user-loginout-link").click((function(e){e.preventDefault(),a.logout()}))),"paid"==e&&r.find(".bb-user-elevate-link, .bb-user-elevate-link-holder").hide()},h=function(){i(".js-bb-paid-only").show(),i(".js_print_paid-only").show()};e.exports={init:function e(){i(window).width()<=1024&&(s.click((function(e){u||(e.stopPropagation(),d.show(),s.addClass("active"),o.on("click.bb-user-dropdown",(function(e){e.target.closest(".site-header__useractions__dropdown")||(e.preventDefault(),e.stopPropagation(),d.hide(),s.removeClass("active"),u=!1,o.off("click.bb-user-dropdown"))})),u=!0)})),c.focus((function(){l.addClass("site-header__nav__extra-mobile-menu__search--active")})),c.blur((function(){l.removeClass("site-header__nav__extra-mobile-menu__search--active")}))),a.updateSailthruUrl(),window.setUserState=e,window.PGM=window.PGM||{},window.PGM.user={processElements:p}}}},function(e,t,n){n(244);var i=n(102),o=n(245),a=n(2),r=n(246),s=n(103),c=n(104);window.tp=window.tp||[],window.PGM=window.PGM||{},window.PGM.piano={registerTemplates:s.registerTemplates,registerOfferId:s.registerOfferId,registerLoginForm:i.registerLoginForm,overlayGradient:o.overlayGradient,longFormOverlay:function(){a.on("ads:slotRenderEnded",o.longFormOverlay)}},tp.push(["addHandler","checkoutClose",o.handleClose]),window.addEventListener("message",r.handleMessage,!1);var l=null,d=new Promise((function(e){l=e}));tp.push(["addHandler","experienceExecute",function(e){l()}]),a.on("asyncContentReady",(function(){d.then((function(){o.pianoTrigger()}))})),a.on("asyncContentReady",o.pianoTrigger),a.on("ads:slotRenderEnded",o.adjustChartOverLay),c.initialize(),e.exports={showLogin:i.showLogin,updateSailthruUrl:o.updateSailthruUrl,logout:i.logout,registerLoginSuccessHandler:i.registerLoginSuccessHandler}},function(e,t,n){var i=n(20),o=n(2);window.PGM.events.on("piano.paywallLogicComplete",(function(e){void 0!==e.shown&&!1===e.shown&&(i.processDeferredAds(),o.on("adTemplatesInserted",(function(){i.processDeferredAds()})))}))},function(e,t,n){var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(3),r=n(33),s=[],c=function(){if(document.getElementsByClassName("chart-piano-overlay__attachment-point")[0].style.display="block",window.location.href.includes("current-boxscore"))for(var e=document.getElementsByClassName("table_container")[0],t=e.rows.length,n=1;n<t;n++)void 0!==e.rows[n]&&e.rows.length>12&&e.deleteRow(t-n)};e.exports=(o(i={updateSailthruUrl:function(){tp.push(["init",function(){var e=a("#newsletter-preferences");e.length&&tp.pianoId.getUser()&&tp.pianoId.getUser().email&&(e.attr("src",e.data("loggedin-src")+tp.pianoId.getUser().email),r.createIframe(e))}])},adjustChartOverLay:function(){var e=a(".piano-content-overlay__attachment-item");if(e.length>=1){var t=e.offset().top;enquire.register(window.PGM.mediaQueries.medium,{match:function(){a("body").get(0).style.setProperty("--paywall-top",t-70+"px")}}).register(window.PGM.mediaQueries.small,{match:function(){a("body").get(0).style.setProperty("--paywall-mobile-top",t+5+"px")}})}},overlayGradient:c,pianoTrigger:function(e){if("leftRail"===e){var t=arguments[2].currentId,n=arguments[2].nextPath,i=a('article[data-id="'+t+'"]');i.find(".article__body").removeClass("article-overlay-handle");var o=i.find(".piano-article-overlay");if(void 0!==o.html()&&""===o.html().trim()&&o.remove(),!s.includes(n)){var r=window.tp;r.push(["init",function(){r.experience.execute()}]),s.push(n),a(".article__body").removeAttr("style")}}},handleClose:function(e){switch(e.state){case"checkoutCompleted":break;case"alreadyHasAccess":window.location.reload();break;case"close":break;default:return}}},"overlayGradient",c),o(i,"longFormOverlay",(function(){var e=document.getElementsByTagName("body")[0].classList.contains("longform-page"),t=document.getElementsByTagName("main")[0].classList.contains("insight-report-article"),n="deepDiveArticle"===document.getElementsByTagName("main")[0].getAttribute("data-content-type"),i=document.getElementsByTagName("body")[0].classList.contains("billboard-bulletin");"function"==typeof window.pianoDebugOutput&&(window.pianoDebugOutput("isLongformPage Paywall --\x3e ".concat(e)),window.pianoDebugOutput("isInsightReportsPage Paywall --\x3e ".concat(t)),window.pianoDebugOutput("isDeepDivePage Paywall --\x3e ".concat(n)));var o=a(".piano-content-overlay__attachment-point");if(o[0].style.display="block",e){var r=a(".longform__body-primary p"),s=a(".longform__body-supplementary"),c=a(".longform__body-primary"),l=a(".longform__body-primary div");a(".longform__body").css({"max-height":"860px",overflow:"hidden"}),s.length>1&&s.not(":eq(0)").hide(),l.hide(),enquire.register(window.PGM.mediaQueries.small,{match:function(){for(var e=0;e<=r.length;)e>1&&(r[e-1].style.display="none"),e++;o[0].style.setProperty("bottom",c.height()+"px")}}).register(window.PGM.mediaQueries.medium,{match:function(){for(var e=0;e<r.length;e++)count>3e3?r[e].style.display="none":count+=r[e].innerHTML.length;o[0].style.setProperty("bottom",c.height()-s.height()-100+"px")}})}if(t&&(a(".article__body").children().not(":eq(0)").hide(),a(".category-recirculation-unit").hide(),a(".article-meta-bottom").hide(),a(".insight-report-article__download-button-holder").hide(),a(".insight-report-article__download-bottom-wrap").hide(),a("#site-footer").hide(),enquire.register(window.PGM.mediaQueries.small,{match:function(){o.style.setProperty("bottom","10px")}})),n&&(a(".category-recirculation-unit").hide(),a(".article-meta-bottom").hide(),a("#site-footer").hide(),a("main[data-content-type='deepDiveArticle'] .article__body").children().not(":eq(0)").hide(),enquire.register(window.PGM.mediaQueries.small,{match:function(){o.style.setProperty("bottom","10px")}})),i){for(var d=document.getElementsByClassName("simple-page__body"),u=0;u<d.length;u++)for(var p=d[u].getElementsByTagName("a"),f=0;f<p.length;f++){p[f].removeAttribute("href")}a(".simple-page").css({padding:0});var h=a(".leaderboard--top").outerHeight()+300;a(".piano-content-overlay__attachment-point").css({top:"".concat(h,"px")})}})),i)},function(e,t,n){n(3);var i=n(102),o=n(103),a=n(104),r=n(247);window.tp=window.tp||[];e.exports={handleMessage:function(e){if(e&&e.data&&e.data.action){var t=e.data.action,n=o.showOfferModal,s=o.closeModal;switch(t){case"sailthru_signup":window.tp.push(["init",function(){var e=window.tp.pianoId.getUser();e&&e.email&&r.submit(PGM.config.sailthruCustomerId,{email:e.email,lists:["bb_biz_master","biz_bulletin","BB_Membership"],source:"piano_signup",vars:{biz_bulletin:"Yes"},onSuccess:function(){},onError:function(){}})}]);break;case"show_modal_offer":n();break;case"show_login":i.showLogin();break;case"scroll_top":window.innerWidth<480&&setTimeout((function(){window.scrollTo(0,0)}),500);break;case"close_modal":s();break;case"remove_sailthru_iframe":window.location.assign("http://www.billboard.com");break;case"sailthru_scroll_top":window.scrollTo(0,0);break;case"click":a.fireGAEvent(t,e.data.label);break;default:return}}}}},function(e,t,n){var i=n(4),o=n(33).createScript,a=i.once(o);e.exports={load:a,submit:function(e,t){var n={email:t.email,lists:{},source:t.source,vars:t.vars?t.vars:{},onSuccess:t.onSuccess,onError:t.onError};t.lists.forEach((function(e){return n.lists[e]=1})),a("https://ak.sail-horizon.com/spm/spm.v1.min.js").then((function(){window.Sailthru.init({customerId:e}),window.Sailthru.integration("userSignUp",n)}))}}}]]);
//# sourceMappingURL=cha_92172aeb.bundle.js.map