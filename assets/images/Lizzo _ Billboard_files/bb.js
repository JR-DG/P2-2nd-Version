function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?e(require("jquery")):e(jQuery)}(function(e){var t=/\+/g;function i(e){return r.raw?e:encodeURIComponent(e)}function n(e){return i(r.json?JSON.stringify(e):String(e))}function a(i,n){var a=r.raw?i:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),r.json?JSON.parse(e):e}catch(e){}}(i);return e.isFunction(n)?n(a):a}var r=e.cookie=function(t,s,o){if(void 0!==s&&!e.isFunction(s)){if("number"==typeof(o=e.extend({},r.defaults,o)).expires){var l=o.expires,c=o.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[i(t),"=",n(s),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var u,d=t?void 0:{},h=document.cookie?document.cookie.split("; "):[],v=0,g=h.length;v<g;v++){var p=h[v].split("="),f=(u=p.shift(),r.raw?u:decodeURIComponent(u)),m=p.join("=");if(t&&t===f){d=a(m,s);break}t||void 0===(m=a(m))||(d[f]=m)}return d};r.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}),function(e,t,i){e(i).ready(function(){e(".content-dropdown").each(function(){var t=this;e(".content-dropdown-trigger",t).on("click touchend",function(i){i.preventDefault(),e(".content-dropdown-target",t).slideToggle()})})})}(this.jQuery,0,this.document),function(e,t,i){e(i).ready(function(){e(".yim-swiper-container, .yim-swiper-carousel").each(function(){var i={calculateHeight:!0,createPagination:!1,mode:"horizontal",speed:300,preloadImages:!0,setWrapperSize:!0,updateOnImagesReady:!0,onSwiperCreated:function(e){setTimeout(function(){e.reInit(!0)},250)}};e(this).is(".yim-swiper-carousel")?e.extend(i,{slidesPerView:"auto"}):e.extend(i,{autoplay:3e3,loop:!0}),e.extend(i,e(this).data("swiper-params")||{}),e(this).data("swiper-original-params",e.extend({},i)),new t.Swiper(this,i)}),e(".yim-swiper-container .previous, .yim-swiper-carousel .previous").on("click touchend",function(t){t.preventDefault(),e(this).closest(".yim-swiper-container, .yim-swiper-carousel").data("swiper").slidePrev()}),e(".yim-swiper-container .next, .yim-swiper-carousel .next").on("click touchend",function(t){t.preventDefault(),e(this).closest(".yim-swiper-container, .yim-swiper-carousel").data("swiper").slideNext()}),t.enquire.register("screen and (max-width: 768px)",{match:function(){e(".yim-swiper-carousel, .yim-swiper-container").each(function(){e.extend(e(this).data("swiper").params,e(this).data("swiper-original-params"))})}}),t.enquire.register("screen and (min-width: 768px) and (max-width: 1023px)",{match:function(){e(".yim-swiper-carousel, .yim-swiper-container").each(function(){e.extend(e(this).data("swiper").params,e(this).data("swiper-original-params"),e(this).data("swiper-params-small")||{})})}}),t.enquire.register("screen and (min-width: 1023px)",{match:function(){e(".yim-swiper-carousel, .yim-swiper-container").each(function(){e.extend(e(this).data("swiper").params,e(this).data("swiper-original-params"),e(this).data("swiper-params-small")||{},e(this).data("swiper-params-medium")||{})})}})})}(this.jQuery,this,this.document),function(e,t){t.onTemplateLoaded=function(i){e(function(){var n=t.brightcove.api.getExperience(i).getModule(t.brightcove.api.modules.APIModules.VIDEO_PLAYER);e("#"+i).closest(".video-container").data("brightcove-player",n),t.brightcovePlayWhenReady&&t.brightcovePlayWhenReady.trigger("click")})},t.onTemplateReady=function(i){e(function(){var n=i.target.experience.id,a=t.brightcove.api.getExperience(n).getModule(t.brightcove.api.modules.APIModules.VIDEO_PLAYER);a.mediaEventAdded||(a.addEventListener(t.brightcove.api.events.MediaEvent.COMPLETE,function(){e("#"+n).closest(".video-container").trigger("MediaEvent.COMPLETE",i)}),a.mediaEventAdded=!0)})},e(function(){e('article:not(".clone") .play-video, .image-container .play-video').on("click",function(i){i.preventDefault(),e(this).closest(".video-container").addClass("video-active");var n=e(this).data("video-id"),a=e(this).closest(".video-container").data("brightcove-player");if(a){a.loadVideoByID(n),e(this).closest(".video-playlist").find("article").removeClass("active");var r=e(this).closest("article").addClass("active");e(this).closest(".video-container").find(".video-info").html(r.clone().addClass("clone"))}else t.brightcovePlayWhenReady=e(this)}),e(".video-playlist .read-more").on("click",function(t){t.preventDefault(),e(this).closest(".video-playlist").find(".more-group-active").each(function(){e(this).next(".more-group").length>0?e(this).next(".more-group").addClass("more-group-active"):e(this).parent().find(".more-group:first").addClass("more-group-active"),e(this).removeClass("more-group-active")})}),e(".video-container").on("MediaEvent.COMPLETE",function(){e(this).find("article.active").next("article").find(".play-video").trigger("click")})})}(this.jQuery,this),function(e,t){e(function(){e("#breaking-news").each(function(){var i=this.textContent.replace(/[^a-zA-Z0-9]/g,"");return(e.cookie("bb_news_close")!==i||window.PGM.debug.isEnabled("breaking"))&&e("body").addClass("breaking-news--is-showing").on("click",".breaking-news__close",function(){t.body.className=t.body.className.replace("breaking-news--is-showing",""),e.cookie("bb_news_close",i,{expires:1})}),!1})})}(this.jQuery,this.document),function(e,t,i){e(i).ready(function(){setTimeout(function(){e("div.artist-section--band_in_town div.bit-upcoming-events-container").length&&e("div.artist-section--band_in_town").removeClass("hidden")},1e3)})}(this.jQuery,0,this.document),function(e,t,i){var n=e.FormatDateInput={};i.extend(n,{patterns:{illegal_chars:/[^0-9\/]/g,regex_three_digits:/^[0-9]{3}/g,regex_seg_three_digits:/^[0|1]{1}[0-9]{1}\/[0-3]{1}[0-9]{2}/g,regex_seg_1:/^[0|1]{1}[0-9]{1}/g,regex_seg_1_slash:/^[0|1]{1}[0-9]{1}\//g,regex_one_digit_zero:/^[0]\//g,regex_one_digit:/[1-9]\//g,regex_seg_2:/^[0|1]{1}[0-9]{1}\/[0-3]{1}[0-9]{1}/g,regex_two_digit:/\/[1-9]{1}\//g,regex_seg_3:/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/g,regex_no_slashes:/[0-9]{2}\/[0-9]{2}[\/]{1,4}/g},setAllTimers:function(e,t,i,a,r){"use strict";n.setIllegalCharsTimer(e,t),n.setSegOneTimer(e,i),n.setSegTwoTimer(e,a),n.setSegThreeTimer(e,r)},clearAllTimers:function(e,t,i,n){"use strict";clearInterval(e),clearInterval(t),clearInterval(i),clearInterval(n),e=0,t=0,i=0,n=0},evaluateState:function(e,t,i){"use strict";1===e.value.length&&0===t&&n.setSegOneTimer(e,t),4===e.value.length&&0===i&&n.setSegTwoTimer(e,i)},setIllegalCharsTimer:function(e,t){"use strict";setInterval(function(){n.removeIllegalChars(e)},50)},setSegOneTimer:function(e,t){"use strict";t=setInterval(function(){n.cleanSegmentOne(e,t)},50)},setSegTwoTimer:function(e,t){"use strict";t=setInterval(function(){n.cleanSegmentTwo(e,t)},50)},setSegThreeTimer:function(e,t){"use strict";setInterval(function(){n.cleanSegmentThree(e)},50)},removeIllegalChars:function(e){"use strict";n.patterns.illegal_chars.test(e.value)&&(e.value=e.value.replace(n.patterns.illegal_chars,""))},cleanSegmentOne:function(e,t){"use strict";var i,a=e.value,r=e.value.length;1===r&&"/"===a&&(e.value=""),2===r&&n.patterns.regex_one_digit.test(a)&&(e.value="0"+a,clearInterval(t),t=0),2===r&&n.patterns.regex_one_digit_zero.test(a)&&(e.value=""),2===r&&"00"===a&&(e.value=""),2===r&&(i=a)>12&&(e.value=a.replace(i,"")),2===r&&n.patterns.regex_seg_1.test(a)&&(e.value=e.value+"/",clearInterval(t),t=0),3===r&&n.patterns.regex_seg_1_slash.test(a)&&(clearInterval(t),t=0)},cleanSegmentTwo:function(e,t){"use strict";var i,a,r=e.value.substring(0,3);4===e.value.length&&e.value===r+"/"&&(e.value=r),5===e.value.length&&(i=e.value.substring(3))>31&&(e.value=e.value.replace(i,"")),5===e.value.length&&e.value===r+"0/"&&(e.value=r),5===e.value.length&&"00"===i&&(e.value=e.value.replace(i,"")),5===e.value.length&&n.patterns.regex_two_digit.test(e.value)&&(a=e.value.substring(3,4),e.value=r+"0"+a),5===e.value.length&&n.patterns.regex_seg_2.test(e.value)&&(e.value=e.value+"/",clearInterval(t),t=0),6===e.value.length&&n.patterns.regex_seg_2.test(e.value)&&(clearInterval(t),t=0)},cleanSegmentThree:function(e){"use strict";"/"!==e.value.substring(6,7)&&"/"!==e.value.substring(7,8)&&"/"!==e.value.substring(8,9)&&"/"!==e.value.substring(9,10)||(e.value=e.value.substring(0,e.value.length-1)),10===e.value.length&&n.patterns.regex_seg_3.test(e.value)&&e.value,e.value.length>10&&(e.value=e.value.substring(0,e.value.length-1))},registerInputClass:function(e){"use strict";return{formatDate:function(){var a,r=t.getElementsByClassName(e),s=0;(a=i(r)).on("focus",function(){n.setAllTimers(this,0,0,0,0)}),a.on("keypress",function(e){s>1&&e.preventDefault(),s++}),a.on("keyup keydown",function(){var e=this.value.substring(2,3),t=this.value.substring(5,6);s=0,3===this.value.length&&n.patterns.regex_three_digits.test(this.value)&&(this.value=this.value.substring(0,this.value.length-1)+"/"+e),6===this.value.length&&n.patterns.regex_seg_three_digits.test(this.value)&&(this.value=this.value.substring(0,this.value.length-1)+"/"+t),n.evaluateState(this,0,0)}),a.on("blur",function(){n.clearAllTimers(0,0,0,0)})}}}})}(this,this.document,this.jQuery),function(e,t,i,n){e.fn.archiveSearch=function(){i.FormatDateInput.registerInputClass("archive-search__input").formatDate();var n=new Date("1954-01-01");return this.each(function(){var a=e(this),r=a.find(".archive-search__form"),s=r.attr("data-message-template"),o=r.attr("data-archive-template"),l=i.PGM.JST[s],c=i.PGM.JST[o],u=a.find(".search-results");a.find(".archive-search__close").on("click",function(){a.find(".archive-search__input").val(""),a.removeClass("is-returning-result")}),r.on("submit",function(i){i.preventDefault(),u.html(l({message:"Loading&hellip;"})),a.addClass("is-returning-result");var s=a.find(".archive-search__input").val(),o=s.split("/"),d=[o[2],o[0],o[1]].join("-"),h=new Date(d),v=null;h.valueOf()<n.valueOf()?v="We don't have data for that year. Try searching for a date after 1953.":h.valueOf()>Date.now()?v="We're still working on predicting the future. Try searching for a date in the past.":10!==s.length&&(v="Check the date you entered. You might have missed some digits."),v?u.html(l({message:v})):e.ajax(r.data("ajaxUrlPrefix")+"?date="+d+"&chart_slug="+r.data("chartSlug"),{success:function(i){if(t.isEmpty(i.rows))u.html(l({message:"We can't find data for "+s+". Try another date?"}));else{var n=i.date;n=n.substring(5,7)+"/"+n.substring(8,10)+"/"+n.substring(0,4),u.html(c(e.extend(i,{archiveURL:u.data("baseUrl"),imageBaseURL:u.data("imageBaseUrl")},{convertedDate:n})))}},error:function(e,t,i){u.html(l({message:"We're having trouble finding data for that date. Try another date?"})),console.error(i)}})})})},e(n).ready(function(){e(".archive-search").archiveSearch()})}(this.jQuery,this._,this,this.document),function(e){var t={positionCentered:"is-centered"};e.fn.pgmTooltip=function(i){var n=e.extend({},t,i);return this.each(function(){var t=e(this);if(t.addClass("pgm-tooltip"),t.hasClass("is-visible")){var i=t.parent().outerHeight()+5+"px",a=t.parent().outerWidth()+"px";t.addClass(n.positionCentered).css({bottom:i,width:a})}})}}(this.jQuery),function(e,t,i){i(t).ready(function(){i(".archive-search__input").on("focus",function(){i.cookie("archiveSearchTooltip","seen"),i(".archive-search__form").find(".pgm-tooltip").removeClass("is-visible")}),i.cookie("archiveSearchTooltip")||i(".archive-search__tooltip").addClass("is-visible"),i(".archive-search__tooltip").pgmTooltip({positionCentered:"is-aligned-left"})})}(0,this.document,this.jQuery),function(e,t){e.PGM.events.on("urlChange:post",function(i,n){var a;"video"===i&&(a=n.find(".video-main__title").text(),e.PGM.Header.setTitle(a),t('meta[name="twitter:title"]').attr("content",a))})}(this,this.jQuery),function(e,t){function i(){e("#biz-modal-no-show")[0].checked&&(localStorage["biz-modal-no-show"]=!0),e(".biz-modal").css("display","none")}e(t).ready(function(){var n=localStorage["biz-modal-no-show"],a=t.querySelector(".site-header__useractions").dataset.pianoEnabled;if(!n&&!a){var r=window.location.pathname,s=!1;r.startsWith("/charts/")?-1===r.indexOf("charts/hot-100")&&-1===r.indexOf("charts/billboard-200")&&(s=!0):r.startsWith("/business")&&(s=!0),""===t.referrer&&s&&(e(".biz-modal").css("display","block"),e("#biz-modal-close").click(i),e("#biz-modal-continue").click(i))}})}(this.jQuery,this.document);
